import{S as N,i as U,s as q,e as j,j as D,c as b,a as k,d as u,l as M,b as g,f as y,F as p,t as T,g as x,M as O,O as $,J as G,L as ee,K as S,h as z,v as B,w as C,x as J,p as K,n as R,A as Q}from"../../../../chunks/vendor-358d5d08.js";import{b as W}from"../../../../chunks/paths-28a87002.js";import{s as te}from"../../../../chunks/settings-8f2b275b.js";import ae from"../../../../chunks/taxa-7a9c7f1b.js";import{f as L,p as F}from"../../../../chunks/formatUtils-b852786f.js";import{P as re}from"../../../../chunks/project_header-d5a0d11f.js";function X(i,e,a){const r=i.slice();return r[6]=e[a],r}function se(i){let e,a;return{c(){e=j("img"),this.h()},l(r){e=b(r,"IMG",{src:!0,alt:!0}),this.h()},h(){S(e.src,a=""+(W+"/images/missing-image.png"))||g(e,"src",a),g(e,"alt","")},m(r,t){y(r,e,t)},p:G,d(r){r&&u(e)}}}function le(i){let e,a,r;return{c(){e=j("img"),this.h()},l(t){e=b(t,"IMG",{src:!0,alt:!0}),this.h()},h(){S(e.src,a=i[6].image_url)||g(e,"src",a),g(e,"alt",r="photo of "+L(i[6]))},m(t,s){y(t,e,s)},p(t,s){s&2&&!S(e.src,a=t[6].image_url)&&g(e,"src",a),s&2&&r!==(r="photo of "+L(t[6]))&&g(e,"alt",r)},d(t){t&&u(e)}}}function ie(i){let e,a=F("observation",i[6].observations_count)+"",r;return{c(){e=j("div"),r=T(a)},l(t){e=b(t,"DIV",{});var s=k(e);r=x(s,a),s.forEach(u)},m(t,s){y(t,e,s),p(e,r)},p(t,s){s&2&&a!==(a=F("observation",t[6].observations_count)+"")&&z(r,a)},d(t){t&&u(e)}}}function oe(i){let e,a=F("observation",i[6].taxa_count)+"",r;return{c(){e=j("div"),r=T(a)},l(t){e=b(t,"DIV",{});var s=k(e);r=x(s,a),s.forEach(u)},m(t,s){y(t,e,s),p(e,r)},p(t,s){s&2&&a!==(a=F("observation",t[6].taxa_count)+"")&&z(r,a)},d(t){t&&u(e)}}}function Y(i){let e,a,r,t,s,_,c=L(i[6],!0)+"",h,n,o;function m(d,E){return d[6].image_url?le:se}let l=m(i),f=l(i);function v(d,E){return d[6].taxa_count>1?oe:ie}let P=v(i),I=P(i);return{c(){e=j("div"),a=j("a"),r=j("figure"),f.c(),t=D(),s=j("div"),_=j("div"),h=D(),I.c(),o=D(),this.h()},l(d){e=b(d,"DIV",{class:!0});var E=k(e);a=b(E,"A",{href:!0});var V=k(a);r=b(V,"FIGURE",{});var H=k(r);f.l(H),H.forEach(u),t=M(V),s=b(V,"DIV",{class:!0});var w=k(s);_=b(w,"DIV",{class:!0});var Z=k(_);Z.forEach(u),h=M(w),I.l(w),w.forEach(u),V.forEach(u),o=M(E),E.forEach(u),this.h()},h(){g(_,"class","text-lg font-medium leading-normal"),g(s,"class","image-card-body"),g(a,"href",n=""+(i[0]+"/taxa/"+i[6].taxon_id)),g(e,"class","image-card")},m(d,E){y(d,e,E),p(e,a),p(a,r),f.m(r,null),p(a,t),p(a,s),p(s,_),_.innerHTML=c,p(s,h),I.m(s,null),p(e,o)},p(d,E){l===(l=m(d))&&f?f.p(d,E):(f.d(1),f=l(d),f&&(f.c(),f.m(r,null))),E&2&&c!==(c=L(d[6],!0)+"")&&(_.innerHTML=c),P===(P=v(d))&&I?I.p(d,E):(I.d(1),I=P(d),I&&(I.c(),I.m(s,null))),E&3&&n!==(n=""+(d[0]+"/taxa/"+d[6].taxon_id))&&g(a,"href",n)},d(d){d&&u(e),f.d(),I.d()}}}function ne(i){let e,a,r,t,s,_,c,h=i[1],n=[];for(let o=0;o<h.length;o+=1)n[o]=Y(X(i,h,o));return{c(){e=j("div");for(let o=0;o<n.length;o+=1)n[o].c();a=D(),r=j("div"),t=j("button"),s=T("Load More"),this.h()},l(o){e=b(o,"DIV",{class:!0});var m=k(e);for(let v=0;v<n.length;v+=1)n[v].l(m);m.forEach(u),a=M(o),r=b(o,"DIV",{class:!0});var l=k(r);t=b(l,"BUTTON",{class:!0});var f=k(t);s=x(f,"Load More"),f.forEach(u),l.forEach(u),this.h()},h(){g(e,"class","grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 justify-center gap-3"),g(t,"class","btn"),O(t,"hidden",!i[2]),g(r,"class","grid justify-items-center mt-8")},m(o,m){y(o,e,m);for(let l=0;l<n.length;l+=1)n[l].m(e,null);y(o,a,m),y(o,r,m),p(r,t),p(t,s),_||(c=$(t,"click",i[3]),_=!0)},p(o,[m]){if(m&3){h=o[1];let l;for(l=0;l<h.length;l+=1){const f=X(o,h,l);n[l]?n[l].p(f,m):(n[l]=Y(f),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=h.length}m&4&&O(t,"hidden",!o[2])},i:G,o:G,d(o){o&&u(e),ee(n,o),o&&u(a),o&&u(r),_=!1,c()}}}let A=24;function ce(i,e,a){let r,t,{taxa:s}=e,{projectPath:_}=e,c=1;function h(){a(5,c=c+1),a(1,r=s.slice(0,c*A))}return i.$$set=n=>{"taxa"in n&&a(4,s=n.taxa),"projectPath"in n&&a(0,_=n.projectPath)},i.$$.update=()=>{i.$$.dirty&48&&a(1,r=s.slice(0,c*A)),i.$$.dirty&48&&a(2,t=c*A<s.length)},[_,r,t,h,s,c]}class fe extends N{constructor(e){super();U(this,e,ce,ne,q,{taxa:4,projectPath:0})}}function ue(i){let e,a,r,t,s,_=i[3].length+"",c,h,n,o,m;return e=new re({props:{org:i[2],project:i[1],activeTab:_e}}),o=new fe({props:{taxa:i[3],projectPath:i[0]}}),{c(){B(e.$$.fragment),a=D(),r=j("main"),t=j("div"),s=j("h1"),c=T(_),h=T(" Field Guide Species"),n=D(),B(o.$$.fragment),this.h()},l(l){C(e.$$.fragment,l),a=M(l),r=b(l,"MAIN",{class:!0});var f=k(r);t=b(f,"DIV",{class:!0});var v=k(t);s=b(v,"H1",{});var P=k(s);c=x(P,_),h=x(P," Field Guide Species"),P.forEach(u),n=M(v),C(o.$$.fragment,v),v.forEach(u),f.forEach(u),this.h()},h(){g(t,"class","prose max-w-none"),g(r,"class","container mx-auto")},m(l,f){J(e,l,f),y(l,a,f),y(l,r,f),p(r,t),p(t,s),p(s,c),p(s,h),p(t,n),J(o,t,null),m=!0},p(l,[f]){const v={};f&4&&(v.org=l[2]),f&2&&(v.project=l[1]),e.$set(v);const P={};f&1&&(P.projectPath=l[0]),o.$set(P)},i(l){m||(K(e.$$.fragment,l),K(o.$$.fragment,l),m=!0)},o(l){R(e.$$.fragment,l),R(o.$$.fragment,l),m=!1},d(l){Q(e,l),l&&u(a),l&&u(r),Q(o)}}}async function be({params:i}){let e=te.filter(t=>t.username===i.orgs)[0],a=e.projects.filter(t=>t.slug==="go-sea")[0];return{props:{projectPath:`${W}/orgs/${e.username}/${a.slug}`,org:e,project:a}}}let _e="field-guide-species";function de(i,e,a){let{projectPath:r}=e,{project:t}=e,{org:s}=e,_=ae.filter(c=>c.field_guide=="True").sort((c,h)=>h.taxa_count-c.taxa_count);return i.$$set=c=>{"projectPath"in c&&a(0,r=c.projectPath),"project"in c&&a(1,t=c.project),"org"in c&&a(2,s=c.org)},[r,t,s,_]}class ke extends N{constructor(e){super();U(this,e,de,ue,q,{projectPath:0,project:1,org:2})}}export{ke as default,be as load};
