import{S as X,i as Y,s as Z,e as f,j as D,t as G,c as h,a as v,d,l as V,g as T,b as g,f as z,F as i,J as A,L as $,K as R}from"../../../../chunks/vendor-ac733917.js";import{b as L}from"../../../../chunks/paths-28a87002.js";import{f as B,p as ee}from"../../../../chunks/formatUtils-77b182ad.js";import{s as te}from"../../../../chunks/settings-ef690396.js";import ae from"../../../../chunks/taxa-99749418.js";function O(r,e,t){const a=r.slice();return a[3]=e[t],a}function se(r){let e,t;return{c(){e=f("img"),this.h()},l(a){e=h(a,"IMG",{src:!0,alt:!0}),this.h()},h(){R(e.src,t=""+(L+"/images/missing-image.png"))||g(e,"src",t),g(e,"alt","")},m(a,c){z(a,e,c)},p:A,d(a){a&&d(e)}}}function re(r){let e,t;return{c(){e=f("img"),this.h()},l(a){e=h(a,"IMG",{src:!0,alt:!0}),this.h()},h(){R(e.src,t=r[3].image_url)||g(e,"src",t),g(e,"alt","photo of "+B(r[3]))},m(a,c){z(a,e,c)},p:A,d(a){a&&d(e)}}}function P(r){let e,t,a,c,n,u,x=B(r[3],!0)+"",p,_,o=ee("observation",r[3].observations_count)+"",l,b,s,I=r[3].taxon_group+"",y,E,M,N=r[3].type+"",F,q,H;function Q(m,j){return m[3].image_url?re:se}let S=Q(r)(r);return{c(){e=f("div"),t=f("a"),a=f("figure"),S.c(),c=D(),n=f("div"),u=f("div"),p=D(),_=f("div"),l=G(o),b=D(),s=f("div"),y=G(I),E=D(),M=f("div"),F=G(N),H=D(),this.h()},l(m){e=h(m,"DIV",{class:!0});var j=v(e);t=h(j,"A",{href:!0});var w=v(t);a=h(w,"FIGURE",{});var U=v(a);S.l(U),U.forEach(d),c=V(w),n=h(w,"DIV",{class:!0});var k=v(n);u=h(k,"DIV",{class:!0});var W=v(u);W.forEach(d),p=V(k),_=h(k,"DIV",{});var C=v(_);l=T(C,o),C.forEach(d),b=V(k),s=h(k,"DIV",{});var J=v(s);y=T(J,I),J.forEach(d),E=V(k),M=h(k,"DIV",{});var K=v(M);F=T(K,N),K.forEach(d),k.forEach(d),w.forEach(d),H=V(j),j.forEach(d),this.h()},h(){g(u,"class","text-lg font-medium leading-normal"),g(n,"class","image-card-body"),g(t,"href",q=""+(L+"/users/"+r[0].username+"/"+r[1].slug+"/taxa/"+r[3].taxon_id)),g(e,"class","image-card")},m(m,j){z(m,e,j),i(e,t),i(t,a),S.m(a,null),i(t,c),i(t,n),i(n,u),u.innerHTML=x,i(n,p),i(n,_),i(_,l),i(n,b),i(n,s),i(s,y),i(n,E),i(n,M),i(M,F),i(e,H)},p(m,j){S.p(m,j),j&3&&q!==(q=""+(L+"/users/"+m[0].username+"/"+m[1].slug+"/taxa/"+m[3].taxon_id))&&g(t,"href",q)},d(m){m&&d(e),S.d()}}}function le(r){let e,t,a,c=r[2].length+"",n,u,x,p,_=r[2],o=[];for(let l=0;l<_.length;l+=1)o[l]=P(O(r,_,l));return{c(){e=f("main"),t=f("div"),a=f("h1"),n=G(c),u=G(" Indicator Species"),x=D(),p=f("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=h(l,"MAIN",{class:!0});var b=v(e);t=h(b,"DIV",{class:!0});var s=v(t);a=h(s,"H1",{});var I=v(a);n=T(I,c),u=T(I," Indicator Species"),I.forEach(d),x=V(s),p=h(s,"DIV",{class:!0});var y=v(p);for(let E=0;E<o.length;E+=1)o[E].l(y);y.forEach(d),s.forEach(d),b.forEach(d),this.h()},h(){g(p,"class","grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 justify-center gap-3"),g(t,"class","prose max-w-none"),g(e,"class","container mx-auto")},m(l,b){z(l,e,b),i(e,t),i(t,a),i(a,n),i(a,u),i(t,x),i(t,p);for(let s=0;s<o.length;s+=1)o[s].m(p,null)},p(l,[b]){if(b&7){_=l[2];let s;for(s=0;s<_.length;s+=1){const I=O(l,_,s);o[s]?o[s].p(I,b):(o[s]=P(I),o[s].c(),o[s].m(p,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=_.length}},i:A,o:A,d(l){l&&d(e),$(o,l)}}}async function he({params:r,url:e}){let t=te.filter(c=>c.username===r.users)[0],a=t.projects.filter(c=>c.slug==="los-angeles-bioblitz")[0];return{props:{user:t,project:a}}}function ie(r,e,t){let a=ae.filter(u=>!!u.taxon_group),{user:c}=e,{project:n}=e;return r.$$set=u=>{"user"in u&&t(0,c=u.user),"project"in u&&t(1,n=u.project)},[c,n,a]}class _e extends X{constructor(e){super();Y(this,e,ie,le,Z,{user:0,project:1})}}export{_e as default,he as load};
