import{S as X,i as Y,s as Z,e as h,j as D,t as G,c as f,a as v,d as u,l as V,g as T,b as g,f as A,F as n,J as F,L as $,K as R}from"../../../../chunks/vendor-181e6373.js";import{b as N}from"../../../../chunks/paths-28a87002.js";import{f as B,p as ee}from"../../../../chunks/formatUtils-77b182ad.js";import{s as te}from"../../../../chunks/settings-ef690396.js";import ae from"../../../../chunks/taxa-99749418.js";function O(r,e,a){const t=r.slice();return t[3]=e[a],t}function se(r){let e,a;return{c(){e=h("img"),this.h()},l(t){e=f(t,"IMG",{src:!0,alt:!0}),this.h()},h(){R(e.src,a=""+(N+"/images/missing-image.png"))||g(e,"src",a),g(e,"alt","")},m(t,d){A(t,e,d)},p:F,d(t){t&&u(e)}}}function re(r){let e,a;return{c(){e=h("img"),this.h()},l(t){e=f(t,"IMG",{src:!0,alt:!0}),this.h()},h(){R(e.src,a=r[3].image_url)||g(e,"src",a),g(e,"alt","photo of "+B(r[3]))},m(t,d){A(t,e,d)},p:F,d(t){t&&u(e)}}}function P(r){let e,a,t,d,l,c,x=B(r[3],!0)+"",p,_,o=ee("observation",r[3].observations_count)+"",i,b,s,I=r[3].taxon_group+"",y,E,M,U=r[3].type+"",H,q,L;function Q(m,j){return m[3].image_url?re:se}let S=Q(r)(r);return{c(){e=h("div"),a=h("a"),t=h("figure"),S.c(),d=D(),l=h("div"),c=h("div"),p=D(),_=h("div"),i=G(o),b=D(),s=h("div"),y=G(I),E=D(),M=h("div"),H=G(U),L=D(),this.h()},l(m){e=f(m,"DIV",{class:!0});var j=v(e);a=f(j,"A",{href:!0});var w=v(a);t=f(w,"FIGURE",{});var z=v(t);S.l(z),z.forEach(u),d=V(w),l=f(w,"DIV",{class:!0});var k=v(l);c=f(k,"DIV",{class:!0});var W=v(c);W.forEach(u),p=V(k),_=f(k,"DIV",{});var C=v(_);i=T(C,o),C.forEach(u),b=V(k),s=f(k,"DIV",{});var J=v(s);y=T(J,I),J.forEach(u),E=V(k),M=f(k,"DIV",{});var K=v(M);H=T(K,U),K.forEach(u),k.forEach(u),w.forEach(u),L=V(j),j.forEach(u),this.h()},h(){g(c,"class","text-lg font-medium leading-normal"),g(l,"class","image-card-body"),g(a,"href",q=""+(N+"/users/"+r[0].username+"/"+r[1].slug+"/taxa/"+r[3].taxon_id)),g(e,"class","image-card")},m(m,j){A(m,e,j),n(e,a),n(a,t),S.m(t,null),n(a,d),n(a,l),n(l,c),c.innerHTML=x,n(l,p),n(l,_),n(_,i),n(l,b),n(l,s),n(s,y),n(l,E),n(l,M),n(M,H),n(e,L)},p(m,j){S.p(m,j),j&3&&q!==(q=""+(N+"/users/"+m[0].username+"/"+m[1].slug+"/taxa/"+m[3].taxon_id))&&g(a,"href",q)},d(m){m&&u(e),S.d()}}}function le(r){let e,a,t,d=r[2].length+"",l,c,x,p,_=r[2],o=[];for(let i=0;i<_.length;i+=1)o[i]=P(O(r,_,i));return{c(){e=h("main"),a=h("div"),t=h("h1"),l=G(d),c=G(" Indicator Species"),x=D(),p=h("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=f(i,"MAIN",{class:!0});var b=v(e);a=f(b,"DIV",{class:!0});var s=v(a);t=f(s,"H1",{});var I=v(t);l=T(I,d),c=T(I," Indicator Species"),I.forEach(u),x=V(s),p=f(s,"DIV",{class:!0});var y=v(p);for(let E=0;E<o.length;E+=1)o[E].l(y);y.forEach(u),s.forEach(u),b.forEach(u),this.h()},h(){g(p,"class","grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 justify-center gap-3"),g(a,"class","prose max-w-none"),g(e,"class","container mx-auto")},m(i,b){A(i,e,b),n(e,a),n(a,t),n(t,l),n(t,c),n(a,x),n(a,p);for(let s=0;s<o.length;s+=1)o[s].m(p,null)},p(i,[b]){if(b&7){_=i[2];let s;for(s=0;s<_.length;s+=1){const I=O(i,_,s);o[s]?o[s].p(I,b):(o[s]=P(I),o[s].c(),o[s].m(p,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=_.length}},i:F,o:F,d(i){i&&u(e),$(o,i)}}}async function fe({params:r,url:e}){let a=e.pathname.split("/"),t=te.filter(l=>l.username===r.users)[0],d=t.projects.filter(l=>l.slug===a[3])[0];return{props:{user:t,project:d}}}function ie(r,e,a){let t=ae.filter(c=>!!c.taxon_group),{user:d}=e,{project:l}=e;return r.$$set=c=>{"user"in c&&a(0,d=c.user),"project"in c&&a(1,l=c.project)},[d,l,t]}class _e extends X{constructor(e){super();Y(this,e,ie,le,Z,{user:0,project:1})}}export{_e as default,fe as load};
