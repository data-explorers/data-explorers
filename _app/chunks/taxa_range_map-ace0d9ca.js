import{S as Y,i as Z,s as x,e as w,t as z,k as v,j as M,c as N,a as O,g as D,d as h,n as y,m as U,b as L,N as F,f as d,E,o as A,P as C,x as _,u as g,v as B,U as ee,l as R,r as S,w as G,K as le}from"./vendor-83798d90.js";import{a as te}from"./index-cea82726.js";import{b as re}from"./mapUtils-8c5a7127.js";import{T as K}from"./TileLayer-978a34f9.js";import{C as oe}from"./CircleMarker-fe18eefd.js";function H(i,l,o){const e=i.slice();return e[17]=l[o],e}function J(i){let l,o;return l=new K({props:{url:`${i[3].url}?color=%23feb24c`,options:i[3].options}}),{c(){M(l.$$.fragment)},l(e){U(l.$$.fragment,e)},m(e,r){A(l,e,r),o=!0},p(e,r){const c={};r&8&&(c.url=`${e[3].url}?color=%23feb24c`),r&8&&(c.options=e[3].options),l.$set(c)},i(e){o||(_(l.$$.fragment,e),o=!0)},o(e){g(l.$$.fragment,e),o=!1},d(e){B(l,e)}}}function Q(i){let l,o;return l=new K({props:{url:`${i[2].url}&color=%23f03b20`,options:i[2].options}}),{c(){M(l.$$.fragment)},l(e){U(l.$$.fragment,e)},m(e,r){A(l,e,r),o=!0},p(e,r){const c={};r&4&&(c.url=`${e[2].url}&color=%23f03b20`),r&4&&(c.options=e[2].options),l.$set(c)},i(e){o||(_(l.$$.fragment,e),o=!0)},o(e){g(l.$$.fragment,e),o=!1},d(e){B(l,e)}}}function W(i){let l,o,e=i[0],r=[];for(let s=0;s<e.length;s+=1)r[s]=X(H(i,e,s));const c=s=>g(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();l=R()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);l=R()},m(s,a){for(let n=0;n<r.length;n+=1)r[n].m(s,a);d(s,l,a),o=!0},p(s,a){if(a&129){e=s[0];let n;for(n=0;n<e.length;n+=1){const f=H(s,e,n);r[n]?(r[n].p(f,a),_(r[n],1)):(r[n]=X(f),r[n].c(),_(r[n],1),r[n].m(l.parentNode,l))}for(S(),n=e.length;n<r.length;n+=1)c(n);G()}},i(s){if(!o){for(let a=0;a<e.length;a+=1)_(r[a]);o=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)g(r[a]);o=!1},d(s){le(r,s),s&&h(l)}}}function X(i){let l,o;return l=new oe({props:{latLng:[i[17].latitude,i[17].longitude],radius:10,color:i[7].defaultColor,fillColor:i[7].defaultColor}}),{c(){M(l.$$.fragment)},l(e){U(l.$$.fragment,e)},m(e,r){A(l,e,r),o=!0},p(e,r){const c={};r&1&&(c.latLng=[e[17].latitude,e[17].longitude]),l.$set(c)},i(e){o||(_(l.$$.fragment,e),o=!0)},o(e){g(l.$$.fragment,e),o=!1},d(e){B(l,e)}}}function ne(i){let l,o,e,r,c,s;l=new K({props:{url:i[1].url,options:i[1].options}});let a=i[4]&&J(i),n=i[5]&&Q(i),f=i[6]&&W(i);return{c(){M(l.$$.fragment),o=v(),a&&a.c(),e=v(),n&&n.c(),r=v(),f&&f.c(),c=R()},l(t){U(l.$$.fragment,t),o=y(t),a&&a.l(t),e=y(t),n&&n.l(t),r=y(t),f&&f.l(t),c=R()},m(t,p){A(l,t,p),d(t,o,p),a&&a.m(t,p),d(t,e,p),n&&n.m(t,p),d(t,r,p),f&&f.m(t,p),d(t,c,p),s=!0},p(t,p){const b={};p&2&&(b.url=t[1].url),p&2&&(b.options=t[1].options),l.$set(b),t[4]?a?(a.p(t,p),p&16&&_(a,1)):(a=J(t),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(S(),g(a,1,1,()=>{a=null}),G()),t[5]?n?(n.p(t,p),p&32&&_(n,1)):(n=Q(t),n.c(),_(n,1),n.m(r.parentNode,r)):n&&(S(),g(n,1,1,()=>{n=null}),G()),t[6]?f?(f.p(t,p),p&64&&_(f,1)):(f=W(t),f.c(),_(f,1),f.m(c.parentNode,c)):f&&(S(),g(f,1,1,()=>{f=null}),G())},i(t){s||(_(l.$$.fragment,t),_(a),_(n),_(f),s=!0)},o(t){g(l.$$.fragment,t),g(a),g(n),g(f),s=!1},d(t){B(l,t),t&&h(o),a&&a.d(t),t&&h(e),n&&n.d(t),t&&h(r),f&&f.d(t),t&&h(c)}}}function se(i){let l,o,e,r,c,s,a,n,f,t,p,b,$,j,T,I,P;return j=new te({props:{options:i[7],$$slots:{default:[ne]},$$scope:{ctx:i}}}),{c(){l=w("label"),o=w("input"),e=z("project observations"),r=v(),c=w("label"),s=w("input"),a=z("all iNaturalist observations"),n=v(),f=w("label"),t=w("input"),p=z("range map"),b=v(),$=w("div"),M(j.$$.fragment),this.h()},l(u){l=N(u,"LABEL",{class:!0});var m=O(l);o=N(m,"INPUT",{type:!0,class:!0}),e=D(m,"project observations"),m.forEach(h),r=y(u),c=N(u,"LABEL",{class:!0});var k=O(c);s=N(k,"INPUT",{type:!0,class:!0}),a=D(k,"all iNaturalist observations"),k.forEach(h),n=y(u),f=N(u,"LABEL",{class:!0});var q=O(f);t=N(q,"INPUT",{type:!0,class:!0}),p=D(q,"range map"),q.forEach(h),b=y(u),$=N(u,"DIV",{class:!0,style:!0});var V=O($);U(j.$$.fragment,V),V.forEach(h),this.h()},h(){L(o,"type","checkbox"),L(o,"class","mr-1"),L(l,"class","cursor-pointer mr-3"),L(s,"type","checkbox"),L(s,"class","mr-1"),L(c,"class","cursor-pointer mr-3"),L(t,"type","checkbox"),L(t,"class","mr-1"),L(f,"class","cursor-pointer mr-3"),L($,"class","mt-4"),F($,"width","65%"),F($,"height","400px")},m(u,m){d(u,l,m),E(l,o),o.checked=i[6],E(l,e),d(u,r,m),d(u,c,m),E(c,s),s.checked=i[5],E(c,a),d(u,n,m),d(u,f,m),E(f,t),t.checked=i[4],E(f,p),d(u,b,m),d(u,$,m),A(j,$,null),T=!0,I||(P=[C(o,"change",i[11]),C(o,"click",i[12]),C(s,"change",i[13]),C(s,"click",i[14]),C(t,"change",i[15]),C(t,"click",i[16])],I=!0)},p(u,[m]){m&64&&(o.checked=u[6]),m&32&&(s.checked=u[5]),m&16&&(t.checked=u[4]);const k={};m&1048703&&(k.$$scope={dirty:m,ctx:u}),j.$set(k)},i(u){T||(_(j.$$.fragment,u),T=!0)},o(u){g(j.$$.fragment,u),T=!1},d(u){u&&h(l),u&&h(r),u&&h(c),u&&h(n),u&&h(f),u&&h(b),u&&h($),B(j),I=!1,ee(P)}}}function ae(i,l,o){let{taxon:e}=l,{project:r}=l,{observations:c}=l,s,a,n,f,t=!0,p=!0,b=!0,$={latitude:r.latitude,longitude:r.longitude,zoom:4,center:[r.latitude,r.longitude]};function j(){b=this.checked,o(6,b)}const T=()=>o(6,b=!b);function I(){p=this.checked,o(5,p)}const P=()=>o(5,p=!p);function u(){t=this.checked,o(4,t)}const m=()=>o(4,t=!t);return i.$$set=k=>{"taxon"in k&&o(8,e=k.taxon),"project"in k&&o(9,r=k.project),"observations"in k&&o(0,c=k.observations)},i.$$.update=()=>{i.$$.dirty&1280&&(o(10,s=re(e.taxon_id)),o(1,a=s.OpenStreetMap),o(2,n=s.InatGrid),o(3,f=s.InatTaxonRange))},[c,a,n,f,t,p,b,$,e,r,s,j,T,I,P,u,m]}class me extends Y{constructor(l){super();Z(this,l,ae,se,x,{taxon:8,project:9,observations:0})}}export{me as default};
