var Me=Object.defineProperty;var me=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var de=(n,l,t)=>l in n?Me(n,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[l]=t,ne=(n,l)=>{for(var t in l||(l={}))Ae.call(l,t)&&de(n,t,l[t]);if(me)for(var t of me(l))Ve.call(l,t)&&de(n,t,l[t]);return n};import{a4 as De,a5 as Pe,S as X,i as Z,s as $,a6 as x,a7 as ee,a as v,d as _,b as f,M as F,f as p,F as g,O as B,a8 as Oe,J as L,U as le,e as k,t as A,j as D,k as z,c as y,g as V,l as P,P as Le,a9 as pe,m as H,n as E,o as j,p as S,T as Ne,aa as Ie,L as re,v as J,w as R,x as G,h as q,A as K}from"./vendor-358d5d08.js";import{b as O,c as Ye}from"./mapUtils-e9636914.js";import{r as ve,b as ge,m as ie}from"./dataUtils-977db69d.js";function ml(n,l={}){const t=l.content,a=n.title,r=n.getAttribute("aria-label"),c=t||a||r;r||n.setAttribute("aria-label",c),n.title="";const i=De(n,ne({content:c},l));return{update:s=>i.setProps(ne({content:c},s)),destroy:()=>i.destroy()}}function be(n,l,t,a,r,c){if(t.length===0)return{};let i={},s=[];function e(o,u){return{count:1,color:o.color,taxon_name:o.taxon_name,opacity:o.active&&a[u]?1:r}}return t.forEach(o=>{l.filter(u=>o.observationIds.includes(u.id)).forEach(u=>{let h=Number(o.taxon_id),m=u[n]=="unknown"?"unknown":Number(u[n]);i[m]?i[m][h]?i[m][h].count+=1:i[m][h]=e(o,m):i[m]={[h]:e(o,m)}})}),Fe(n,i,s,t,c),i}function Fe(n,l,t,a,r){if(n==="month"){let i=Object.keys(l).map(e=>Number(e));t=r.observed_months.filter(e=>!i.includes(e))}else if(n==="year"){let i=Object.keys(l).map(e=>Number(e));t=ve(r.observed_years[0],r.observed_years[1]).filter(e=>!i.includes(e))}let c=a[0];t.forEach(i=>{l[i]={},l[i][c.taxon_id]={count:0,opacity:0,taxon_name:c.taxon_name}})}function dl(n,l,t,a,r){let c=a.map(e=>e.id),i=t.map(e=>({xValue:e.taxon_name,yValue:e.observationIds.filter(o=>c.includes(o)).length,group:"",color:e.taxon_name,label:e.taxa_count,opacity:e.active?1:l})),s=r.observed_years;return s[1]-s[0]>13&&(n.config.facet.columns=1),n.data.values=i,n.height=200,n.encoding.x.axis=null,n.encoding.color.scale={domain:t.map(e=>e.taxon_name),range:t.map(e=>e.color)},n.encoding.color.title=null,n}function pl(n,l,t,a,r,c){if(!Array.isArray(r)){let e=[];r.forEach((o,u)=>{e=e.concat(o)}),r=e}let i=[],s=be("month",r,t,a,l,c);for(let e in s){let o=s[e];for(let u in o){let h=o[u];i.push({xValue:e==="unknown"?e:O(e),yValue:h.count,group:h.taxon_name,color:h.color,opacity:h.opacity})}}return n.data.values=i,n.facet.sort=t.map(e=>e.taxon_name),n.spec.layer[0].encoding.color.scale=null,n}function vl(n,l,t,a,r,c){if(!Array.isArray(r)){let e=[];r.forEach((o,u)=>{e=e.concat(o)}),r=e}let i=[],s=be("year",r,t,a,l,c);for(let e in s){let o=s[e];for(let u in o){let h=o[u];i.push({xValue:e,yValue:h.count,group:h.taxon_name,color:h.color,opacity:h.opacity})}}return n.data.values=i,n.facet.sort=t.map(e=>e.taxon_name),n.spec.layer[0].encoding.color.scale=null,n}function gl(n,l,t){let a=[{xValue:"All",yValue:t.length,color:l.defaultColor,opacity:1}];return n.layer[0].mark.width.band=.6,n.data.values=a,n}function bl(n,l,t,a,r,c){let i=[],s=[...c.observed_months];return t.unknown!==void 0&&s.push("unknown"),i=s.map(e=>({xValue:O(e),yValue:0,opacity:0})),Array.isArray(r)&&(r=ge(r,"month")),r.forEach((e,o)=>{let u=s.indexOf(o),h=o==="unknown"?a.defaultColor:a.colorSchemeMonth[o];i[u]={xValue:O(o),yValue:e.length,color:h,opacity:t[o]?1:l}}),n.layer[0].mark.width.band=1,n.data.values=i,n}function kl(n,l,t,a,r,c){let i=[],s=ve(c.observed_years[0],c.observed_years[1]);return t.unknown!==void 0&&s.push("unknown"),i=s.map(e=>({xValue:e,yValue:0,opacity:0})),Array.isArray(r)&&(r=ge(r,"year")),r.forEach((e,o)=>{let u=s.indexOf(o),h=o==="unknown"?a.defaultColor:a.colorSchemeYear[ie(o,a.colorSchemeYear.length)];i[u]={xValue:o,yValue:e.length,color:h,opacity:t[o]?1:l}}),Object.keys(s).length<=4?n.layer[0].mark.width.band=.6:n.layer[0].mark.width.band=1,n.data.values=i,n}function yl(n,l){Pe(l,n,{actions:!1}).then(t=>{}).catch(console.warn)}function Sl(n,l){return n.map(t=>({"Maximum Temperature (F)":t[l["Maximum Temperature (F)"]],"Minimum Temperature (F)":t[l["Minimum Temperature (F)"]],"Precipation (inches)":t[l["Precipation (inches)"]],Month:O(new Date(`${t.Month}-15-2020`).getMonth())}))}function ze(n){let l,t,a,r;return{c(){l=x("svg"),t=x("circle"),this.h()},l(c){l=ee(c,"svg",{height:!0,width:!0,class:!0,"data-filter":!0});var i=v(l);t=ee(i,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0,"data-filter":!0}),v(t).forEach(_),i.forEach(_),this.h()},h(){f(t,"cx","10"),f(t,"cy","10"),f(t,"r","8"),f(t,"stroke",n[0]),f(t,"stroke-width","3"),f(t,"fill",n[0]),f(t,"fill-opacity",".20"),f(t,"data-filter",n[1]),f(l,"height","20"),f(l,"width","20"),f(l,"class","inline"),f(l,"data-filter",n[1]),F(l,"cursor-pointer",n[3])},m(c,i){p(c,l,i),g(l,t),a||(r=B(l,"click",Oe(function(){le(n[2])&&n[2].apply(this,arguments)})),a=!0)},p(c,[i]){n=c,i&1&&f(t,"stroke",n[0]),i&1&&f(t,"fill",n[0]),i&2&&f(t,"data-filter",n[1]),i&2&&f(l,"data-filter",n[1]),i&8&&F(l,"cursor-pointer",n[3])},i:L,o:L,d(c){c&&_(l),a=!1,r()}}}function He(n,l,t){let{color:a}=l,{value:r}=l,{clickHandler:c=function(){}}=l,{cursorPointer:i=!1}=l;return n.$$set=s=>{"color"in s&&t(0,a=s.color),"value"in s&&t(1,r=s.value),"clickHandler"in s&&t(2,c=s.clickHandler),"cursorPointer"in s&&t(3,i=s.cursorPointer)},[a,r,c,i]}class te extends X{constructor(l){super();Z(this,l,He,ze,$,{color:0,value:1,clickHandler:2,cursorPointer:3})}}function je(n){let l,t;return{c(){l=x("svg"),t=x("rect"),this.h()},l(a){l=ee(a,"svg",{width:!0,height:!0,class:!0,"data-filter":!0});var r=v(l);t=ee(r,"rect",{width:!0,height:!0,y:!0,x:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0,"data-filter":!0}),v(t).forEach(_),r.forEach(_),this.h()},h(){f(t,"width","14"),f(t,"height","14"),f(t,"y","2"),f(t,"x","2"),f(t,"stroke",n[0]),f(t,"stroke-width","3"),f(t,"fill",n[0]),f(t,"fill-opacity",".20"),f(t,"data-filter",n[1]),f(l,"width","20"),f(l,"height","20"),f(l,"class","inline"),f(l,"data-filter",n[1])},m(a,r){p(a,l,r),g(l,t)},p(a,[r]){r&1&&f(t,"stroke",a[0]),r&1&&f(t,"fill",a[0]),r&2&&f(t,"data-filter",a[1]),r&2&&f(l,"data-filter",a[1])},i:L,o:L,d(a){a&&_(l)}}}function qe(n,l,t){let{color:a}=l,{value:r}=l;return n.$$set=c=>{"color"in c&&t(0,a=c.color),"value"in c&&t(1,r=c.value)},[a,r]}class Ue extends X{constructor(l){super();Z(this,l,qe,je,$,{color:0,value:1})}}function ke(n,l,t){const a=n.slice();return a[11]=l[t][0],a[8]=l[t][1],a}function ye(n,l,t){const a=n.slice();return a[7]=l[t][0],a[8]=l[t][1],a}function Be(n){let l,t,a=[...n[2]],r=[];for(let i=0;i<a.length;i+=1)r[i]=Se(ke(n,a,i));const c=i=>E(r[i],1,1,()=>{r[i]=null});return{c(){l=k("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){l=y(i,"DIV",{class:!0});var s=v(l);for(let e=0;e<r.length;e+=1)r[e].l(s);s.forEach(_),this.h()},h(){f(l,"class","map-legend mt-2")},m(i,s){p(i,l,s);for(let e=0;e<r.length;e+=1)r[e].m(l,null);t=!0},p(i,s){if(s&29){a=[...i[2]];let e;for(e=0;e<a.length;e+=1){const o=ke(i,a,e);r[e]?(r[e].p(o,s),S(r[e],1)):(r[e]=Se(o),r[e].c(),S(r[e],1),r[e].m(l,null))}for(H(),e=a.length;e<r.length;e+=1)c(e);j()}},i(i){if(!t){for(let s=0;s<a.length;s+=1)S(r[s]);t=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)E(r[s]);t=!1},d(i){i&&_(l),re(r,i)}}}function Je(n){let l,t,a=[...n[2]],r=[];for(let i=0;i<a.length;i+=1)r[i]=we(ye(n,a,i));const c=i=>E(r[i],1,1,()=>{r[i]=null});return{c(){l=k("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){l=y(i,"DIV",{class:!0});var s=v(l);for(let e=0;e<r.length;e+=1)r[e].l(s);s.forEach(_),this.h()},h(){f(l,"class","map-legend mt-2")},m(i,s){p(i,l,s);for(let e=0;e<r.length;e+=1)r[e].m(l,null);t=!0},p(i,s){if(s&29){a=[...i[2]];let e;for(e=0;e<a.length;e+=1){const o=ye(i,a,e);r[e]?(r[e].p(o,s),S(r[e],1)):(r[e]=we(o),r[e].c(),S(r[e],1),r[e].m(l,null))}for(H(),e=a.length;e<r.length;e+=1)c(e);j()}},i(i){if(!t){for(let s=0;s<a.length;s+=1)S(r[s]);t=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)E(r[s]);t=!1},d(i){i&&_(l),re(r,i)}}}function Re(n){let l;return{c(){l=k("div"),this.h()},l(t){l=y(t,"DIV",{class:!0}),v(l).forEach(_),this.h()},h(){f(l,"class","map-legend mt-2")},m(t,a){p(t,l,a)},p:L,i:L,o:L,d(t){t&&_(l)}}}function Ge(n){let l,t,a,r=n[11]+"",c,i,s;return l=new te({props:{value:n[11],cursorPointer:!0,color:n[0].colorSchemeYear[ie(n[11],n[0].colorSchemeYear.length)]}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=A(r),this.h()},l(e){R(l.$$.fragment,e),t=P(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=V(o,r),o.forEach(_),this.h()},h(){f(a,"data-filter",i=n[11])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const u={};o&4&&(u.value=e[11]),o&5&&(u.color=e[0].colorSchemeYear[ie(e[11],e[0].colorSchemeYear.length)]),l.$set(u),(!s||o&4)&&r!==(r=e[11]+"")&&q(c,r),(!s||o&4&&i!==(i=e[11]))&&f(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){K(l,e),e&&_(t),e&&_(a)}}}function Ke(n){let l,t,a,r=n[11]+"",c,i,s;return l=new te({props:{value:n[11],color:n[0].defaultColor,cursorPointer:!0}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=A(r),this.h()},l(e){R(l.$$.fragment,e),t=P(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=V(o,r),o.forEach(_),this.h()},h(){f(a,"data-filter",i=n[11])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const u={};o&4&&(u.value=e[11]),o&1&&(u.color=e[0].defaultColor),l.$set(u),(!s||o&4)&&r!==(r=e[11]+"")&&q(c,r),(!s||o&4&&i!==(i=e[11]))&&f(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){K(l,e),e&&_(t),e&&_(a)}}}function Se(n){let l,t,a,r,c,i,s,e;const o=[Ke,Ge],u=[];function h(m,d){return m[11]==="unknown"?0:1}return t=h(n),a=u[t]=o[t](n),{c(){l=k("div"),a.c(),r=D(),this.h()},l(m){l=y(m,"DIV",{class:!0,"data-filter":!0});var d=v(l);a.l(d),r=P(d),d.forEach(_),this.h()},h(){f(l,"class","mr-4 inline-block filter svelte-su2mrc"),f(l,"data-filter",c=n[11]),F(l,"active",n[4][n[11]])},m(m,d){p(m,l,d),u[t].m(l,null),g(l,r),i=!0,s||(e=B(l,"click",function(){le(n[3])&&n[3].apply(this,arguments)}),s=!0)},p(m,d){n=m;let M=t;t=h(n),t===M?u[t].p(n,d):(H(),E(u[M],1,1,()=>{u[M]=null}),j(),a=u[t],a?a.p(n,d):(a=u[t]=o[t](n),a.c()),S(a,1),a.m(l,r)),(!i||d&4&&c!==(c=n[11]))&&f(l,"data-filter",c),d&20&&F(l,"active",n[4][n[11]])},i(m){i||(S(a),i=!0)},o(m){E(a),i=!1},d(m){m&&_(l),u[t].d(),s=!1,e()}}}function Qe(n){let l,t,a,r=O(n[7])+"",c,i,s;return l=new te({props:{value:n[7],cursorPointer:!0,color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=A(r),this.h()},l(e){R(l.$$.fragment,e),t=P(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=V(o,r),o.forEach(_),this.h()},h(){f(a,"data-filter",i=n[7])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const u={};o&4&&(u.value=e[7]),o&5&&(u.color=e[0].colorSchemeMonth[e[7]]||e[0].defaultColor),l.$set(u),(!s||o&4)&&r!==(r=O(e[7])+"")&&q(c,r),(!s||o&4&&i!==(i=e[7]))&&f(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){K(l,e),e&&_(t),e&&_(a)}}}function We(n){let l,t,a,r,c;const i=[Ze,Xe],s=[];function e(o,u){return u&4&&(l=null),l==null&&(l=!!Ye.includes(o[7]+1)),l?0:1}return t=e(n,-1),a=s[t]=i[t](n),{c(){a.c(),r=z()},l(o){a.l(o),r=z()},m(o,u){s[t].m(o,u),p(o,r,u),c=!0},p(o,u){let h=t;t=e(o,u),t===h?s[t].p(o,u):(H(),E(s[h],1,1,()=>{s[h]=null}),j(),a=s[t],a?a.p(o,u):(a=s[t]=i[t](o),a.c()),S(a,1),a.m(r.parentNode,r))},i(o){c||(S(a),c=!0)},o(o){E(a),c=!1},d(o){s[t].d(o),o&&_(r)}}}function Xe(n){let l,t,a,r=O(n[7])+"",c,i,s;return l=new Ue({props:{value:n[7],color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=A(r),this.h()},l(e){R(l.$$.fragment,e),t=P(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=V(o,r),o.forEach(_),this.h()},h(){f(a,"data-filter",i=n[7])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const u={};o&4&&(u.value=e[7]),o&5&&(u.color=e[0].colorSchemeMonth[e[7]]||e[0].defaultColor),l.$set(u),(!s||o&4)&&r!==(r=O(e[7])+"")&&q(c,r),(!s||o&4&&i!==(i=e[7]))&&f(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){K(l,e),e&&_(t),e&&_(a)}}}function Ze(n){let l,t,a,r=O(n[7])+"",c,i,s;return l=new te({props:{value:n[7],cursorPointer:!0,color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=A(r),this.h()},l(e){R(l.$$.fragment,e),t=P(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=V(o,r),o.forEach(_),this.h()},h(){f(a,"data-filter",i=n[7])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const u={};o&4&&(u.value=e[7]),o&5&&(u.color=e[0].colorSchemeMonth[e[7]]||e[0].defaultColor),l.$set(u),(!s||o&4)&&r!==(r=O(e[7])+"")&&q(c,r),(!s||o&4&&i!==(i=e[7]))&&f(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){K(l,e),e&&_(t),e&&_(a)}}}function we(n){let l,t,a,r,c,i,s,e;const o=[We,Qe],u=[];function h(m,d){return m[0].monthSeasonalMarkers?0:1}return t=h(n),a=u[t]=o[t](n),{c(){l=k("div"),a.c(),r=D(),this.h()},l(m){l=y(m,"DIV",{class:!0,"data-filter":!0});var d=v(l);a.l(d),r=P(d),d.forEach(_),this.h()},h(){f(l,"class","mr-4 inline-block filter svelte-su2mrc"),f(l,"data-filter",c=n[7]),F(l,"active",n[4][n[7]])},m(m,d){p(m,l,d),u[t].m(l,null),g(l,r),i=!0,s||(e=B(l,"click",function(){le(n[3])&&n[3].apply(this,arguments)}),s=!0)},p(m,d){n=m;let M=t;t=h(n),t===M?u[t].p(n,d):(H(),E(u[M],1,1,()=>{u[M]=null}),j(),a=u[t],a?a.p(n,d):(a=u[t]=o[t](n),a.c()),S(a,1),a.m(l,r)),(!i||d&4&&c!==(c=n[7]))&&f(l,"data-filter",c),d&20&&F(l,"active",n[4][n[7]])},i(m){i||(S(a),i=!0)},o(m){E(a),i=!1},d(m){m&&_(l),u[t].d(),s=!1,e()}}}function $e(n){let l,t,a,r,c,i,s,e,o,u,h,m,d,M,Q,T,C,I,U,ae,oe;const se=[Re,Je,Be],N=[];function ce(b,w){return w&4&&(Q=null),Q==null&&(Q=!!Array.isArray(b[2])),Q?0:b[0].observationsTimeSpan==="month"?1:b[0].observationsTimeSpan==="year"?2:-1}return~(T=ce(n,-1))&&(C=N[T]=se[T](n)),{c(){l=k("div"),t=k("label"),a=k("span"),r=A("Time Span"),c=D(),i=k("select"),s=k("option"),e=A("All"),o=k("option"),u=A("Months"),h=k("option"),m=A("Years"),M=D(),C&&C.c(),I=z(),this.h()},l(b){l=y(b,"DIV",{class:!0});var w=v(l);t=y(w,"LABEL",{class:!0,for:!0});var Y=v(t);a=y(Y,"SPAN",{class:!0});var ue=v(a);r=V(ue,"Time Span"),ue.forEach(_),Y.forEach(_),c=P(w),i=y(w,"SELECT",{name:!0,class:!0});var W=v(i);s=y(W,"OPTION",{});var fe=v(s);e=V(fe,"All"),fe.forEach(_),o=y(W,"OPTION",{});var he=v(o);u=V(he,"Months"),he.forEach(_),h=y(W,"OPTION",{});var _e=v(h);m=V(_e,"Years"),_e.forEach(_),W.forEach(_),w.forEach(_),M=P(b),C&&C.l(b),I=z(),this.h()},h(){f(a,"class","label-text"),f(t,"class","label inline"),f(t,"for","group"),s.__value="all",s.value=s.__value,o.__value="month",o.value=o.__value,h.__value="year",h.value=h.__value,i.disabled=d=n[5]===0,f(i,"name","group"),f(i,"class","select select-bordered h-8 min-h-0"),n[0].observationsTimeSpan===void 0&&Le(()=>n[6].call(i)),f(l,"class","form-control inline-block mt-4")},m(b,w){p(b,l,w),g(l,t),g(t,a),g(a,r),g(l,c),g(l,i),g(i,s),g(s,e),g(i,o),g(o,u),g(i,h),g(h,m),pe(i,n[0].observationsTimeSpan),p(b,M,w),~T&&N[T].m(b,w),p(b,I,w),U=!0,ae||(oe=[B(i,"change",n[6]),B(i,"change",function(){le(n[1])&&n[1].apply(this,arguments)})],ae=!0)},p(b,[w]){n=b,(!U||w&32&&d!==(d=n[5]===0))&&(i.disabled=d),w&1&&pe(i,n[0].observationsTimeSpan);let Y=T;T=ce(n,w),T===Y?~T&&N[T].p(n,w):(C&&(H(),E(N[Y],1,1,()=>{N[Y]=null}),j()),~T?(C=N[T],C?C.p(n,w):(C=N[T]=se[T](n),C.c()),S(C,1),C.m(I.parentNode,I)):C=null)},i(b){U||(S(C),U=!0)},o(b){E(C),U=!1},d(b){b&&_(l),b&&_(M),~T&&N[T].d(b),b&&_(I),ae=!1,Ne(oe)}}}function xe(n,l,t){let{mapOptions:a}=l,{selectTimeSpanHandler:r}=l,{groupedObservations:c}=l,{toggleTimeSpans:i}=l,{timeSpanHistory:s}=l,{activeTaxaCount:e}=l;function o(){a.observationsTimeSpan=Ie(this),t(0,a)}return n.$$set=u=>{"mapOptions"in u&&t(0,a=u.mapOptions),"selectTimeSpanHandler"in u&&t(1,r=u.selectTimeSpanHandler),"groupedObservations"in u&&t(2,c=u.groupedObservations),"toggleTimeSpans"in u&&t(3,i=u.toggleTimeSpans),"timeSpanHistory"in u&&t(4,s=u.timeSpanHistory),"activeTaxaCount"in u&&t(5,e=u.activeTaxaCount)},[a,r,c,i,s,e,o]}class wl extends X{constructor(l){super();Z(this,l,xe,$e,$,{mapOptions:0,selectTimeSpanHandler:1,groupedObservations:2,toggleTimeSpans:3,timeSpanHistory:4,activeTaxaCount:5})}}function Ee(n,l,t){const a=n.slice();return a[2]=l[t],a}function Te(n){let l,t=n[1].length+"",a,r,c,i,s=n[1],e=[];for(let o=0;o<s.length;o+=1)e[o]=Ce(Ee(n,s,o));return{c(){l=k("span"),a=A(t),r=A(" species on map"),c=D(),i=k("ul");for(let o=0;o<e.length;o+=1)e[o].c();this.h()},l(o){l=y(o,"SPAN",{class:!0});var u=v(l);a=V(u,t),r=V(u," species on map"),u.forEach(_),c=P(o),i=y(o,"UL",{class:!0});var h=v(i);for(let m=0;m<e.length;m+=1)e[m].l(h);h.forEach(_),this.h()},h(){f(l,"class","font-semibold inline-block mt-4 text-lg"),f(i,"class","species-list svelte-1o74gbm")},m(o,u){p(o,l,u),g(l,a),g(l,r),p(o,c,u),p(o,i,u);for(let h=0;h<e.length;h+=1)e[h].m(i,null)},p(o,u){if(u&2&&t!==(t=o[1].length+"")&&q(a,t),u&2){s=o[1];let h;for(h=0;h<s.length;h+=1){const m=Ee(o,s,h);e[h]?e[h].p(m,u):(e[h]=Ce(m),e[h].c(),e[h].m(i,null))}for(;h<e.length;h+=1)e[h].d(1);e.length=s.length}},d(o){o&&_(l),o&&_(c),o&&_(i),re(e,o)}}}function Ce(n){let l,t=n[2].name+"";return{c(){l=k("li"),this.h()},l(a){l=y(a,"LI",{class:!0});var r=v(l);r.forEach(_),this.h()},h(){f(l,"class","svelte-1o74gbm")},m(a,r){p(a,l,r),l.innerHTML=t},p(a,r){r&2&&t!==(t=a[2].name+"")&&(l.innerHTML=t)},d(a){a&&_(l)}}}function el(n){let l,t=n[0]&&Te(n);return{c(){t&&t.c(),l=z()},l(a){t&&t.l(a),l=z()},m(a,r){t&&t.m(a,r),p(a,l,r)},p(a,[r]){a[0]?t?t.p(a,r):(t=Te(a),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},i:L,o:L,d(a){t&&t.d(a),a&&_(l)}}}function ll(n,l,t){let{showSpeciesList:a=!1}=l,{speciesList:r=[]}=l;return n.$$set=c=>{"showSpeciesList"in c&&t(0,a=c.showSpeciesList),"speciesList"in c&&t(1,r=c.speciesList)},[a,r]}class El extends X{constructor(l){super();Z(this,l,ll,el,$,{showSpeciesList:0,speciesList:1})}}const tl="https://vega.github.io/schema/vega-lite/v5.json",al="A bar chart with labels, custom color and custom opacity",nl={values:[]},rl="container",il=100,ol=[{mark:{type:"bar",width:{band:1}}},{mark:{type:"text",align:"center",dy:-10},encoding:{text:{field:"yValue",type:"quantitative"},color:{value:"black"}}}],sl={x:{field:"xValue",type:"nominal",axis:{labelAngle:0,labelLimit:0,labelOverlap:!0},title:null,sort:null},y:{field:"yValue",type:"quantitative",title:"observations"},color:{field:"color",type:"nominal",scale:null},opacity:{field:"opacity",type:"quantitative",scale:null}},cl={facet:{columns:2},axis:{titleFontSize:14,labelFontSize:12,labelColor:"#333"},legend:{titleFontSize:14,labelFontSize:14,labelLimit:0,orient:"bottom",columns:1,labelColor:"#333"},header:{titleFontSize:14,labelFontSize:14,labelColor:"#333"},mark:{fontSize:12,color:"#333"},title:{fontSize:14,color:"#333"}};var Tl={$schema:tl,description:al,data:nl,width:rl,height:il,layer:ol,encoding:sl,config:cl};export{te as C,El as M,pl as a,Tl as b,vl as c,yl as d,wl as e,Sl as f,bl as g,kl as h,gl as i,dl as s,ml as t};
