import{S as A,i as b,s as z,G as q,H as B,I as V,p as c,n as u,e as E,c as S,a as T,d as m,f as y,m as F,o as G,af as H,q as x,W as N,ag as P,E as W,v as j,w as v,N as D,x as I,A as M,j as Z,l as J}from"./vendor-35134e52.js";import{L as g,E as K,a as Q}from"./index-4cf94f11.js";import{g as X}from"./mapUtils-e9636914.js";import{T as Y}from"./TileLayer-5fc507f7.js";function U(o){let a;const i=o[11].default,e=W(i,o,o[10],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,n){e&&e.m(t,n),a=!0},p(t,n){e&&e.p&&(!a||n&1024)&&q(e,i,t,t[10],a?V(i,t[10],n,null):B(t[10]),null)},i(t){a||(c(e,t),a=!0)},o(t){u(e,t),a=!1},d(t){e&&e.d(t)}}}function $(o){let a,i,e=o[0]&&U(o);return{c(){a=E("div"),e&&e.c()},l(t){a=S(t,"DIV",{});var n=T(a);e&&e.l(n),n.forEach(m)},m(t,n){y(t,a,n),e&&e.m(a,null),i=!0},p(t,[n]){t[0]?e?(e.p(t,n),n&1&&c(e,1)):(e=U(t),e.c(),c(e,1),e.m(a,null)):e&&(F(),u(e,1,1,()=>{e=null}),G())},i(t){i||(c(e),i=!0)},o(t){u(e),i=!1},d(t){t&&m(a),e&&e.d()}}}function ee(o,a,i){let{$$slots:e={},$$scope:t}=a;const{getMap:n}=H(g),l=g.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});let{latLng:f}=a,{zIndexOffset:d=0}=a,{icon:_=l}=a,{opacity:p=1}=a,{options:h={}}=a,{events:k=[]}=a,{rotationAngle:O=0}=a,{rotationOrigin:L="center bottom"}=a,s;x(g.Layer,{getLayer:()=>s}),x(g.Marker,{getMarker:()=>s});const C=N();let w;P(()=>{w.unregister(),s.removeFrom(n())});function R(){return s}return o.$$set=r=>{"latLng"in r&&i(1,f=r.latLng),"zIndexOffset"in r&&i(2,d=r.zIndexOffset),"icon"in r&&i(3,_=r.icon),"opacity"in r&&i(4,p=r.opacity),"options"in r&&i(5,h=r.options),"events"in r&&i(6,k=r.events),"rotationAngle"in r&&i(7,O=r.rotationAngle),"rotationOrigin"in r&&i(8,L=r.rotationOrigin),"$$scope"in r&&i(10,t=r.$$scope)},o.$$.update=()=>{o.$$.dirty&511&&(s||(i(0,s=g.marker(f,h).addTo(n())),w=new K(s,C,k)),s.setLatLng(f),s.setZIndexOffset(d),s.setIcon(_),s.setOpacity(p),s.setRotationAngle(O),s.setRotationOrigin(L))},[s,f,d,_,p,h,k,O,L,R,t,e]}class te extends A{constructor(a){super();b(this,a,ee,$,z,{latLng:1,zIndexOffset:2,icon:3,opacity:4,options:5,events:6,rotationAngle:7,rotationOrigin:8,getMarker:9})}get getMarker(){return this.$$.ctx[9]}}function ne(o){let a,i,e,t;return a=new Y({props:{url:o[1].url,options:o[1].options}}),e=new te({props:{latLng:[o[0].latitude,o[0].longitude]}}),{c(){j(a.$$.fragment),i=Z(),j(e.$$.fragment)},l(n){v(a.$$.fragment,n),i=J(n),v(e.$$.fragment,n)},m(n,l){I(a,n,l),y(n,i,l),I(e,n,l),t=!0},p(n,l){const f={};l&1&&(f.latLng=[n[0].latitude,n[0].longitude]),e.$set(f)},i(n){t||(c(a.$$.fragment,n),c(e.$$.fragment,n),t=!0)},o(n){u(a.$$.fragment,n),u(e.$$.fragment,n),t=!1},d(n){M(a,n),n&&m(i),M(e,n)}}}function ae(o){let a,i,e;return i=new Q({props:{options:o[0],$$slots:{default:[ne]},$$scope:{ctx:o}}}),{c(){a=E("div"),j(i.$$.fragment),this.h()},l(t){a=S(t,"DIV",{style:!0});var n=T(a);v(i.$$.fragment,n),n.forEach(m),this.h()},h(){D(a,"width","100%"),D(a,"height","400px")},m(t,n){y(t,a,n),I(i,a,null),e=!0},p(t,[n]){const l={};n&1&&(l.options=t[0]),n&5&&(l.$$scope={dirty:n,ctx:t}),i.$set(l)},i(t){e||(c(i.$$.fragment,t),e=!0)},o(t){u(i.$$.fragment,t),e=!1},d(t){t&&m(a),M(i)}}}function ie(o,a,i){let{mapOptions:e}=a,t=X().OpenStreetMap;return o.$$set=n=>{"mapOptions"in n&&i(0,e=n.mapOptions)},[e,t]}class fe extends A{constructor(a){super();b(this,a,ie,ae,z,{mapOptions:0})}}export{fe as default};
