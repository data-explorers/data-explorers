import{S as b,i as A,s as z,F as B,G as F,H as V,x as c,u,e as D,c as E,a as S,d as m,f as y,r as q,w as G,L as H,y as T,a4 as N,ae as P,D as Z,j,m as v,N as x,o as M,v as w,k as J,n as K}from"./vendor-83798d90.js";import{L as g,E as Q,a as W}from"./index-cea82726.js";import{b as X}from"./mapUtils-8c5a7127.js";import{T as Y}from"./TileLayer-978a34f9.js";function U(o){let a;const i=o[11].default,e=Z(i,o,o[10],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,n){e&&e.m(t,n),a=!0},p(t,n){e&&e.p&&(!a||n&1024)&&B(e,i,t,t[10],a?V(i,t[10],n,null):F(t[10]),null)},i(t){a||(c(e,t),a=!0)},o(t){u(e,t),a=!1},d(t){e&&e.d(t)}}}function $(o){let a,i,e=o[0]&&U(o);return{c(){a=D("div"),e&&e.c()},l(t){a=E(t,"DIV",{});var n=S(a);e&&e.l(n),n.forEach(m)},m(t,n){y(t,a,n),e&&e.m(a,null),i=!0},p(t,[n]){t[0]?e?(e.p(t,n),n&1&&c(e,1)):(e=U(t),e.c(),c(e,1),e.m(a,null)):e&&(q(),u(e,1,1,()=>{e=null}),G())},i(t){i||(c(e),i=!0)},o(t){u(e),i=!1},d(t){t&&m(a),e&&e.d()}}}function ee(o,a,i){let{$$slots:e={},$$scope:t}=a;const{getMap:n}=H(g),l=g.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});let{latLng:f}=a,{zIndexOffset:d=0}=a,{icon:_=l}=a,{opacity:h=1}=a,{options:p={}}=a,{events:k=[]}=a,{rotationAngle:O=0}=a,{rotationOrigin:L="center bottom"}=a,s;T(g.Layer,{getLayer:()=>s}),T(g.Marker,{getMarker:()=>s});const C=N();let I;P(()=>{I.unregister(),s.removeFrom(n())});function R(){return s}return o.$$set=r=>{"latLng"in r&&i(1,f=r.latLng),"zIndexOffset"in r&&i(2,d=r.zIndexOffset),"icon"in r&&i(3,_=r.icon),"opacity"in r&&i(4,h=r.opacity),"options"in r&&i(5,p=r.options),"events"in r&&i(6,k=r.events),"rotationAngle"in r&&i(7,O=r.rotationAngle),"rotationOrigin"in r&&i(8,L=r.rotationOrigin),"$$scope"in r&&i(10,t=r.$$scope)},o.$$.update=()=>{o.$$.dirty&511&&(s||(i(0,s=g.marker(f,p).addTo(n())),I=new Q(s,C,k)),s.setLatLng(f),s.setZIndexOffset(d),s.setIcon(_),s.setOpacity(h),s.setRotationAngle(O),s.setRotationOrigin(L))},[s,f,d,_,h,p,k,O,L,R,t,e]}class te extends b{constructor(a){super();A(this,a,ee,$,z,{latLng:1,zIndexOffset:2,icon:3,opacity:4,options:5,events:6,rotationAngle:7,rotationOrigin:8,getMarker:9})}get getMarker(){return this.$$.ctx[9]}}function ne(o){let a,i,e,t;return a=new Y({props:{url:o[1].url,options:o[1].options}}),e=new te({props:{latLng:[o[0].latitude,o[0].longitude]}}),{c(){j(a.$$.fragment),i=J(),j(e.$$.fragment)},l(n){v(a.$$.fragment,n),i=K(n),v(e.$$.fragment,n)},m(n,l){M(a,n,l),y(n,i,l),M(e,n,l),t=!0},p(n,l){const f={};l&1&&(f.latLng=[n[0].latitude,n[0].longitude]),e.$set(f)},i(n){t||(c(a.$$.fragment,n),c(e.$$.fragment,n),t=!0)},o(n){u(a.$$.fragment,n),u(e.$$.fragment,n),t=!1},d(n){w(a,n),n&&m(i),w(e,n)}}}function ae(o){let a,i,e;return i=new W({props:{options:o[0],$$slots:{default:[ne]},$$scope:{ctx:o}}}),{c(){a=D("div"),j(i.$$.fragment),this.h()},l(t){a=E(t,"DIV",{style:!0});var n=S(a);v(i.$$.fragment,n),n.forEach(m),this.h()},h(){x(a,"width","100%"),x(a,"height","400px")},m(t,n){y(t,a,n),M(i,a,null),e=!0},p(t,[n]){const l={};n&1&&(l.options=t[0]),n&5&&(l.$$scope={dirty:n,ctx:t}),i.$set(l)},i(t){e||(c(i.$$.fragment,t),e=!0)},o(t){u(i.$$.fragment,t),e=!1},d(t){t&&m(a),w(i)}}}function ie(o,a,i){let{mapOptions:e}=a,t=X().OpenStreetMap;return o.$$set=n=>{"mapOptions"in n&&i(0,e=n.mapOptions)},[e,t]}class fe extends b{constructor(a){super();A(this,a,ie,ae,z,{mapOptions:0})}}export{fe as default};
