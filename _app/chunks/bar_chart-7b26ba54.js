var Ae=Object.defineProperty;var me=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var de=(n,l,t)=>l in n?Ae(n,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[l]=t,ne=(n,l)=>{for(var t in l||(l={}))Ve.call(l,t)&&de(n,t,l[t]);if(me)for(var t of me(l))Me.call(l,t)&&de(n,t,l[t]);return n};import{a6 as De,a7 as Ne,S as X,i as Z,s as $,a8 as x,a9 as ee,a as v,d as _,b as u,N as z,f as p,F as g,Q as R,aa as Le,J as L,W as le,e as k,t as V,j as D,k as F,c as y,g as M,l as N,R as Oe,ab as pe,m as H,n as E,o as j,p as S,V as Pe,ac as Ie,L as re,v as J,w as U,x as G,h as q,A as Q}from"./vendor-ac733917.js";import{b as O,c as Ye}from"./mapUtils-e9636914.js";import{r as ve,d as ge,m as ie}from"./observation_data-90cf8ccf.js";function ml(n,l={}){const t=l.content,a=n.title,r=n.getAttribute("aria-label"),c=t||a||r;r||n.setAttribute("aria-label",c),n.title="";const i=De(n,ne({content:c},l));return{update:s=>i.setProps(ne({content:c},s)),destroy:()=>i.destroy()}}function be(n,l,t,a,r,c){if(t.length===0)return{};let i={},s=[];function e(o,f){return{count:1,color:o.color,taxon_name:o.taxon_name,opacity:o.active&&a[f]?1:r}}return t.forEach(o=>{l.filter(f=>o.observationIds.includes(f.id)).forEach(f=>{let h=Number(o.taxon_id),m=f[n]=="unknown"?"unknown":Number(f[n]);i[m]?i[m][h]?i[m][h].count+=1:i[m][h]=e(o,m):i[m]={[h]:e(o,m)}})}),ze(n,i,s,t,c),i}function ze(n,l,t,a,r){if(n==="month"){let i=Object.keys(l).map(e=>Number(e));t=r.observed_months.filter(e=>!i.includes(e))}else if(n==="year"){let i=Object.keys(l).map(e=>Number(e));t=ve(r.observed_years[0],r.observed_years[1]).filter(e=>!i.includes(e))}let c=a[0];t.forEach(i=>{l[i]={},l[i][c.taxon_id]={count:0,opacity:0,taxon_name:c.taxon_name}})}function dl(n,l,t,a,r){let c=a.map(e=>e.id),i=t.map(e=>({xValue:e.taxon_name,yValue:e.observationIds.filter(o=>c.includes(o)).length,group:"",color:e.taxon_name,label:e.taxa_count,opacity:e.active?1:l})),s=r.observed_years;return s[1]-s[0]>13&&(n.config.facet.columns=1),n.data.values=i,n.height=200,n.encoding.x.axis=null,n.encoding.color.scale={domain:t.map(e=>e.taxon_name),range:t.map(e=>e.color)},n.encoding.color.title=null,n}function pl(n,l,t,a,r,c){if(!Array.isArray(r)){let e=[];r.forEach((o,f)=>{e=e.concat(o)}),r=e}let i=[],s=be("month",r,t,a,l,c);for(let e in s){let o=s[e];for(let f in o){let h=o[f];i.push({xValue:e==="unknown"?e:O(e),yValue:h.count,group:h.taxon_name,color:h.color,opacity:h.opacity})}}return n.data.values=i,n.facet.sort=t.map(e=>e.taxon_name),n.spec.layer[0].encoding.color.scale=null,n}function vl(n,l,t,a,r,c){if(!Array.isArray(r)){let e=[];r.forEach((o,f)=>{e=e.concat(o)}),r=e}let i=[],s=be("year",r,t,a,l,c);for(let e in s){let o=s[e];for(let f in o){let h=o[f];i.push({xValue:e,yValue:h.count,group:h.taxon_name,color:h.color,opacity:h.opacity})}}return n.data.values=i,n.facet.sort=t.map(e=>e.taxon_name),n.spec.layer[0].encoding.color.scale=null,n}function gl(n,l,t){let a=[{xValue:"All",yValue:t.length,color:l.defaultColor,opacity:1}];return n.layer[0].mark.width.band=.6,n.data.values=a,n}function bl(n,l,t,a,r,c){let i=[],s=[...c.observed_months];return t.unknown!==void 0&&s.push("unknown"),i=s.map(e=>({xValue:O(e),yValue:0,opacity:0})),Array.isArray(r)&&(r=ge(r,"month")),r.forEach((e,o)=>{let f=s.indexOf(o),h=o==="unknown"?a.defaultColor:a.colorSchemeMonth[o];i[f]={xValue:O(o),yValue:e.length,color:h,opacity:t[o]?1:l}}),n.layer[0].mark.width.band=1,n.data.values=i,n}function kl(n,l,t,a,r,c){let i=[],s=ve(c.observed_years[0],c.observed_years[1]);return t.unknown!==void 0&&s.push("unknown"),i=s.map(e=>({xValue:e,yValue:0,opacity:0})),Array.isArray(r)&&(r=ge(r,"year")),r.forEach((e,o)=>{let f=s.indexOf(o),h=o==="unknown"?a.defaultColor:a.colorSchemeYear[ie(o,a.colorSchemeYear.length)];i[f]={xValue:o,yValue:e.length,color:h,opacity:t[o]?1:l}}),Object.keys(s).length<=4?n.layer[0].mark.width.band=.6:n.layer[0].mark.width.band=1,n.data.values=i,n}function yl(n,l){Ne(l,n,{actions:!1}).then(t=>{}).catch(console.warn)}function Fe(n){let l,t,a,r;return{c(){l=x("svg"),t=x("circle"),this.h()},l(c){l=ee(c,"svg",{height:!0,width:!0,class:!0,"data-filter":!0});var i=v(l);t=ee(i,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0,"data-filter":!0}),v(t).forEach(_),i.forEach(_),this.h()},h(){u(t,"cx","10"),u(t,"cy","10"),u(t,"r","8"),u(t,"stroke",n[0]),u(t,"stroke-width","3"),u(t,"fill",n[0]),u(t,"fill-opacity",".20"),u(t,"data-filter",n[1]),u(l,"height","20"),u(l,"width","20"),u(l,"class","inline"),u(l,"data-filter",n[1]),z(l,"cursor-pointer",n[3])},m(c,i){p(c,l,i),g(l,t),a||(r=R(l,"click",Le(function(){le(n[2])&&n[2].apply(this,arguments)})),a=!0)},p(c,[i]){n=c,i&1&&u(t,"stroke",n[0]),i&1&&u(t,"fill",n[0]),i&2&&u(t,"data-filter",n[1]),i&2&&u(l,"data-filter",n[1]),i&8&&z(l,"cursor-pointer",n[3])},i:L,o:L,d(c){c&&_(l),a=!1,r()}}}function He(n,l,t){let{color:a}=l,{value:r}=l,{clickHandler:c=function(){}}=l,{cursorPointer:i=!1}=l;return n.$$set=s=>{"color"in s&&t(0,a=s.color),"value"in s&&t(1,r=s.value),"clickHandler"in s&&t(2,c=s.clickHandler),"cursorPointer"in s&&t(3,i=s.cursorPointer)},[a,r,c,i]}class te extends X{constructor(l){super();Z(this,l,He,Fe,$,{color:0,value:1,clickHandler:2,cursorPointer:3})}}function je(n){let l,t;return{c(){l=x("svg"),t=x("rect"),this.h()},l(a){l=ee(a,"svg",{width:!0,height:!0,class:!0,"data-filter":!0});var r=v(l);t=ee(r,"rect",{width:!0,height:!0,y:!0,x:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0,"data-filter":!0}),v(t).forEach(_),r.forEach(_),this.h()},h(){u(t,"width","14"),u(t,"height","14"),u(t,"y","2"),u(t,"x","2"),u(t,"stroke",n[0]),u(t,"stroke-width","3"),u(t,"fill",n[0]),u(t,"fill-opacity",".20"),u(t,"data-filter",n[1]),u(l,"width","20"),u(l,"height","20"),u(l,"class","inline"),u(l,"data-filter",n[1])},m(a,r){p(a,l,r),g(l,t)},p(a,[r]){r&1&&u(t,"stroke",a[0]),r&1&&u(t,"fill",a[0]),r&2&&u(t,"data-filter",a[1]),r&2&&u(l,"data-filter",a[1])},i:L,o:L,d(a){a&&_(l)}}}function qe(n,l,t){let{color:a}=l,{value:r}=l;return n.$$set=c=>{"color"in c&&t(0,a=c.color),"value"in c&&t(1,r=c.value)},[a,r]}class Be extends X{constructor(l){super();Z(this,l,qe,je,$,{color:0,value:1})}}function ke(n,l,t){const a=n.slice();return a[11]=l[t][0],a[8]=l[t][1],a}function ye(n,l,t){const a=n.slice();return a[7]=l[t][0],a[8]=l[t][1],a}function Re(n){let l,t,a=[...n[2]],r=[];for(let i=0;i<a.length;i+=1)r[i]=Se(ke(n,a,i));const c=i=>E(r[i],1,1,()=>{r[i]=null});return{c(){l=k("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){l=y(i,"DIV",{class:!0});var s=v(l);for(let e=0;e<r.length;e+=1)r[e].l(s);s.forEach(_),this.h()},h(){u(l,"class","map-legend mt-2")},m(i,s){p(i,l,s);for(let e=0;e<r.length;e+=1)r[e].m(l,null);t=!0},p(i,s){if(s&29){a=[...i[2]];let e;for(e=0;e<a.length;e+=1){const o=ke(i,a,e);r[e]?(r[e].p(o,s),S(r[e],1)):(r[e]=Se(o),r[e].c(),S(r[e],1),r[e].m(l,null))}for(H(),e=a.length;e<r.length;e+=1)c(e);j()}},i(i){if(!t){for(let s=0;s<a.length;s+=1)S(r[s]);t=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)E(r[s]);t=!1},d(i){i&&_(l),re(r,i)}}}function Je(n){let l,t,a=[...n[2]],r=[];for(let i=0;i<a.length;i+=1)r[i]=we(ye(n,a,i));const c=i=>E(r[i],1,1,()=>{r[i]=null});return{c(){l=k("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){l=y(i,"DIV",{class:!0});var s=v(l);for(let e=0;e<r.length;e+=1)r[e].l(s);s.forEach(_),this.h()},h(){u(l,"class","map-legend mt-2")},m(i,s){p(i,l,s);for(let e=0;e<r.length;e+=1)r[e].m(l,null);t=!0},p(i,s){if(s&29){a=[...i[2]];let e;for(e=0;e<a.length;e+=1){const o=ye(i,a,e);r[e]?(r[e].p(o,s),S(r[e],1)):(r[e]=we(o),r[e].c(),S(r[e],1),r[e].m(l,null))}for(H(),e=a.length;e<r.length;e+=1)c(e);j()}},i(i){if(!t){for(let s=0;s<a.length;s+=1)S(r[s]);t=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)E(r[s]);t=!1},d(i){i&&_(l),re(r,i)}}}function Ue(n){let l;return{c(){l=k("div"),this.h()},l(t){l=y(t,"DIV",{class:!0}),v(l).forEach(_),this.h()},h(){u(l,"class","map-legend mt-2")},m(t,a){p(t,l,a)},p:L,i:L,o:L,d(t){t&&_(l)}}}function Ge(n){let l,t,a,r=n[11]+"",c,i,s;return l=new te({props:{value:n[11],cursorPointer:!0,color:n[0].colorSchemeYear[ie(n[11],n[0].colorSchemeYear.length)]}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=V(r),this.h()},l(e){U(l.$$.fragment,e),t=N(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=M(o,r),o.forEach(_),this.h()},h(){u(a,"data-filter",i=n[11])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const f={};o&4&&(f.value=e[11]),o&5&&(f.color=e[0].colorSchemeYear[ie(e[11],e[0].colorSchemeYear.length)]),l.$set(f),(!s||o&4)&&r!==(r=e[11]+"")&&q(c,r),(!s||o&4&&i!==(i=e[11]))&&u(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){Q(l,e),e&&_(t),e&&_(a)}}}function Qe(n){let l,t,a,r=n[11]+"",c,i,s;return l=new te({props:{value:n[11],color:n[0].defaultColor,cursorPointer:!0}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=V(r),this.h()},l(e){U(l.$$.fragment,e),t=N(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=M(o,r),o.forEach(_),this.h()},h(){u(a,"data-filter",i=n[11])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const f={};o&4&&(f.value=e[11]),o&1&&(f.color=e[0].defaultColor),l.$set(f),(!s||o&4)&&r!==(r=e[11]+"")&&q(c,r),(!s||o&4&&i!==(i=e[11]))&&u(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){Q(l,e),e&&_(t),e&&_(a)}}}function Se(n){let l,t,a,r,c,i,s,e;const o=[Qe,Ge],f=[];function h(m,d){return m[11]==="unknown"?0:1}return t=h(n),a=f[t]=o[t](n),{c(){l=k("div"),a.c(),r=D(),this.h()},l(m){l=y(m,"DIV",{class:!0,"data-filter":!0});var d=v(l);a.l(d),r=N(d),d.forEach(_),this.h()},h(){u(l,"class","mr-4 inline-block filter svelte-su2mrc"),u(l,"data-filter",c=n[11]),z(l,"active",n[4][n[11]])},m(m,d){p(m,l,d),f[t].m(l,null),g(l,r),i=!0,s||(e=R(l,"click",function(){le(n[3])&&n[3].apply(this,arguments)}),s=!0)},p(m,d){n=m;let A=t;t=h(n),t===A?f[t].p(n,d):(H(),E(f[A],1,1,()=>{f[A]=null}),j(),a=f[t],a?a.p(n,d):(a=f[t]=o[t](n),a.c()),S(a,1),a.m(l,r)),(!i||d&4&&c!==(c=n[11]))&&u(l,"data-filter",c),d&20&&z(l,"active",n[4][n[11]])},i(m){i||(S(a),i=!0)},o(m){E(a),i=!1},d(m){m&&_(l),f[t].d(),s=!1,e()}}}function We(n){let l,t,a,r=O(n[7])+"",c,i,s;return l=new te({props:{value:n[7],cursorPointer:!0,color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=V(r),this.h()},l(e){U(l.$$.fragment,e),t=N(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=M(o,r),o.forEach(_),this.h()},h(){u(a,"data-filter",i=n[7])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const f={};o&4&&(f.value=e[7]),o&5&&(f.color=e[0].colorSchemeMonth[e[7]]||e[0].defaultColor),l.$set(f),(!s||o&4)&&r!==(r=O(e[7])+"")&&q(c,r),(!s||o&4&&i!==(i=e[7]))&&u(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){Q(l,e),e&&_(t),e&&_(a)}}}function Ke(n){let l,t,a,r,c;const i=[Ze,Xe],s=[];function e(o,f){return f&4&&(l=null),l==null&&(l=!!Ye.includes(o[7]+1)),l?0:1}return t=e(n,-1),a=s[t]=i[t](n),{c(){a.c(),r=F()},l(o){a.l(o),r=F()},m(o,f){s[t].m(o,f),p(o,r,f),c=!0},p(o,f){let h=t;t=e(o,f),t===h?s[t].p(o,f):(H(),E(s[h],1,1,()=>{s[h]=null}),j(),a=s[t],a?a.p(o,f):(a=s[t]=i[t](o),a.c()),S(a,1),a.m(r.parentNode,r))},i(o){c||(S(a),c=!0)},o(o){E(a),c=!1},d(o){s[t].d(o),o&&_(r)}}}function Xe(n){let l,t,a,r=O(n[7])+"",c,i,s;return l=new Be({props:{value:n[7],color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=V(r),this.h()},l(e){U(l.$$.fragment,e),t=N(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=M(o,r),o.forEach(_),this.h()},h(){u(a,"data-filter",i=n[7])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const f={};o&4&&(f.value=e[7]),o&5&&(f.color=e[0].colorSchemeMonth[e[7]]||e[0].defaultColor),l.$set(f),(!s||o&4)&&r!==(r=O(e[7])+"")&&q(c,r),(!s||o&4&&i!==(i=e[7]))&&u(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){Q(l,e),e&&_(t),e&&_(a)}}}function Ze(n){let l,t,a,r=O(n[7])+"",c,i,s;return l=new te({props:{value:n[7],cursorPointer:!0,color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){J(l.$$.fragment),t=D(),a=k("span"),c=V(r),this.h()},l(e){U(l.$$.fragment,e),t=N(e),a=y(e,"SPAN",{"data-filter":!0});var o=v(a);c=M(o,r),o.forEach(_),this.h()},h(){u(a,"data-filter",i=n[7])},m(e,o){G(l,e,o),p(e,t,o),p(e,a,o),g(a,c),s=!0},p(e,o){const f={};o&4&&(f.value=e[7]),o&5&&(f.color=e[0].colorSchemeMonth[e[7]]||e[0].defaultColor),l.$set(f),(!s||o&4)&&r!==(r=O(e[7])+"")&&q(c,r),(!s||o&4&&i!==(i=e[7]))&&u(a,"data-filter",i)},i(e){s||(S(l.$$.fragment,e),s=!0)},o(e){E(l.$$.fragment,e),s=!1},d(e){Q(l,e),e&&_(t),e&&_(a)}}}function we(n){let l,t,a,r,c,i,s,e;const o=[Ke,We],f=[];function h(m,d){return m[0].monthSeasonalMarkers?0:1}return t=h(n),a=f[t]=o[t](n),{c(){l=k("div"),a.c(),r=D(),this.h()},l(m){l=y(m,"DIV",{class:!0,"data-filter":!0});var d=v(l);a.l(d),r=N(d),d.forEach(_),this.h()},h(){u(l,"class","mr-4 inline-block filter svelte-su2mrc"),u(l,"data-filter",c=n[7]),z(l,"active",n[4][n[7]])},m(m,d){p(m,l,d),f[t].m(l,null),g(l,r),i=!0,s||(e=R(l,"click",function(){le(n[3])&&n[3].apply(this,arguments)}),s=!0)},p(m,d){n=m;let A=t;t=h(n),t===A?f[t].p(n,d):(H(),E(f[A],1,1,()=>{f[A]=null}),j(),a=f[t],a?a.p(n,d):(a=f[t]=o[t](n),a.c()),S(a,1),a.m(l,r)),(!i||d&4&&c!==(c=n[7]))&&u(l,"data-filter",c),d&20&&z(l,"active",n[4][n[7]])},i(m){i||(S(a),i=!0)},o(m){E(a),i=!1},d(m){m&&_(l),f[t].d(),s=!1,e()}}}function $e(n){let l,t,a,r,c,i,s,e,o,f,h,m,d,A,W,T,C,I,B,ae,oe;const se=[Ue,Je,Re],P=[];function ce(b,w){return w&4&&(W=null),W==null&&(W=!!Array.isArray(b[2])),W?0:b[0].observationsTimeSpan==="month"?1:b[0].observationsTimeSpan==="year"?2:-1}return~(T=ce(n,-1))&&(C=P[T]=se[T](n)),{c(){l=k("div"),t=k("label"),a=k("span"),r=V("Time Span"),c=D(),i=k("select"),s=k("option"),e=V("All"),o=k("option"),f=V("Months"),h=k("option"),m=V("Years"),A=D(),C&&C.c(),I=F(),this.h()},l(b){l=y(b,"DIV",{class:!0});var w=v(l);t=y(w,"LABEL",{class:!0,for:!0});var Y=v(t);a=y(Y,"SPAN",{class:!0});var fe=v(a);r=M(fe,"Time Span"),fe.forEach(_),Y.forEach(_),c=N(w),i=y(w,"SELECT",{name:!0,class:!0});var K=v(i);s=y(K,"OPTION",{});var ue=v(s);e=M(ue,"All"),ue.forEach(_),o=y(K,"OPTION",{});var he=v(o);f=M(he,"Months"),he.forEach(_),h=y(K,"OPTION",{});var _e=v(h);m=M(_e,"Years"),_e.forEach(_),K.forEach(_),w.forEach(_),A=N(b),C&&C.l(b),I=F(),this.h()},h(){u(a,"class","label-text"),u(t,"class","label inline"),u(t,"for","group"),s.__value="all",s.value=s.__value,o.__value="month",o.value=o.__value,h.__value="year",h.value=h.__value,i.disabled=d=n[5]===0,u(i,"name","group"),u(i,"class","select select-bordered h-8 min-h-0"),n[0].observationsTimeSpan===void 0&&Oe(()=>n[6].call(i)),u(l,"class","form-control inline-block mt-4")},m(b,w){p(b,l,w),g(l,t),g(t,a),g(a,r),g(l,c),g(l,i),g(i,s),g(s,e),g(i,o),g(o,f),g(i,h),g(h,m),pe(i,n[0].observationsTimeSpan),p(b,A,w),~T&&P[T].m(b,w),p(b,I,w),B=!0,ae||(oe=[R(i,"change",n[6]),R(i,"change",function(){le(n[1])&&n[1].apply(this,arguments)})],ae=!0)},p(b,[w]){n=b,(!B||w&32&&d!==(d=n[5]===0))&&(i.disabled=d),w&1&&pe(i,n[0].observationsTimeSpan);let Y=T;T=ce(n,w),T===Y?~T&&P[T].p(n,w):(C&&(H(),E(P[Y],1,1,()=>{P[Y]=null}),j()),~T?(C=P[T],C?C.p(n,w):(C=P[T]=se[T](n),C.c()),S(C,1),C.m(I.parentNode,I)):C=null)},i(b){B||(S(C),B=!0)},o(b){E(C),B=!1},d(b){b&&_(l),b&&_(A),~T&&P[T].d(b),b&&_(I),ae=!1,Pe(oe)}}}function xe(n,l,t){let{mapOptions:a}=l,{selectTimeSpanHandler:r}=l,{groupedObservations:c}=l,{toggleTimeSpans:i}=l,{timeSpanHistory:s}=l,{activeTaxaCount:e}=l;function o(){a.observationsTimeSpan=Ie(this),t(0,a)}return n.$$set=f=>{"mapOptions"in f&&t(0,a=f.mapOptions),"selectTimeSpanHandler"in f&&t(1,r=f.selectTimeSpanHandler),"groupedObservations"in f&&t(2,c=f.groupedObservations),"toggleTimeSpans"in f&&t(3,i=f.toggleTimeSpans),"timeSpanHistory"in f&&t(4,s=f.timeSpanHistory),"activeTaxaCount"in f&&t(5,e=f.activeTaxaCount)},[a,r,c,i,s,e,o]}class Sl extends X{constructor(l){super();Z(this,l,xe,$e,$,{mapOptions:0,selectTimeSpanHandler:1,groupedObservations:2,toggleTimeSpans:3,timeSpanHistory:4,activeTaxaCount:5})}}function Ee(n,l,t){const a=n.slice();return a[2]=l[t],a}function Te(n){let l,t=n[1].length+"",a,r,c,i,s=n[1],e=[];for(let o=0;o<s.length;o+=1)e[o]=Ce(Ee(n,s,o));return{c(){l=k("span"),a=V(t),r=V(" species on map"),c=D(),i=k("ul");for(let o=0;o<e.length;o+=1)e[o].c();this.h()},l(o){l=y(o,"SPAN",{class:!0});var f=v(l);a=M(f,t),r=M(f," species on map"),f.forEach(_),c=N(o),i=y(o,"UL",{class:!0});var h=v(i);for(let m=0;m<e.length;m+=1)e[m].l(h);h.forEach(_),this.h()},h(){u(l,"class","font-semibold inline-block mt-4 text-lg"),u(i,"class","species-list svelte-1o74gbm")},m(o,f){p(o,l,f),g(l,a),g(l,r),p(o,c,f),p(o,i,f);for(let h=0;h<e.length;h+=1)e[h].m(i,null)},p(o,f){if(f&2&&t!==(t=o[1].length+"")&&q(a,t),f&2){s=o[1];let h;for(h=0;h<s.length;h+=1){const m=Ee(o,s,h);e[h]?e[h].p(m,f):(e[h]=Ce(m),e[h].c(),e[h].m(i,null))}for(;h<e.length;h+=1)e[h].d(1);e.length=s.length}},d(o){o&&_(l),o&&_(c),o&&_(i),re(e,o)}}}function Ce(n){let l,t=n[2].name+"";return{c(){l=k("li"),this.h()},l(a){l=y(a,"LI",{class:!0});var r=v(l);r.forEach(_),this.h()},h(){u(l,"class","svelte-1o74gbm")},m(a,r){p(a,l,r),l.innerHTML=t},p(a,r){r&2&&t!==(t=a[2].name+"")&&(l.innerHTML=t)},d(a){a&&_(l)}}}function el(n){let l,t=n[0]&&Te(n);return{c(){t&&t.c(),l=F()},l(a){t&&t.l(a),l=F()},m(a,r){t&&t.m(a,r),p(a,l,r)},p(a,[r]){a[0]?t?t.p(a,r):(t=Te(a),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},i:L,o:L,d(a){t&&t.d(a),a&&_(l)}}}function ll(n,l,t){let{showSpeciesList:a=!1}=l,{speciesList:r=[]}=l;return n.$$set=c=>{"showSpeciesList"in c&&t(0,a=c.showSpeciesList),"speciesList"in c&&t(1,r=c.speciesList)},[a,r]}class wl extends X{constructor(l){super();Z(this,l,ll,el,$,{showSpeciesList:0,speciesList:1})}}const tl="https://vega.github.io/schema/vega-lite/v5.json",al="A bar chart with labels, custom color and custom opacity",nl={values:[]},rl="container",il=100,ol=[{mark:{type:"bar",width:{band:1}}},{mark:{type:"text",align:"center",dy:-10},encoding:{text:{field:"yValue",type:"quantitative"},color:{value:"black"}}}],sl={x:{field:"xValue",type:"nominal",axis:{labelAngle:0,labelLimit:0,labelOverlap:!0},title:null,sort:null},y:{field:"yValue",type:"quantitative",title:"observations"},color:{field:"color",type:"nominal",scale:null},opacity:{field:"opacity",type:"quantitative",scale:null}},cl={facet:{columns:2},axis:{titleFontSize:14,labelFontSize:12,labelColor:"#333"},legend:{titleFontSize:14,labelFontSize:14,labelLimit:0,orient:"bottom",columns:1,labelColor:"#333"},header:{titleFontSize:14,labelFontSize:14,labelColor:"#333"},mark:{fontSize:12,color:"#333"},title:{fontSize:14,color:"#333"}};var El={$schema:tl,description:al,data:nl,width:rl,height:il,layer:ol,encoding:sl,config:cl};export{te as C,wl as M,pl as a,El as b,vl as c,yl as d,Sl as e,bl as f,kl as g,gl as h,dl as s,ml as t};
