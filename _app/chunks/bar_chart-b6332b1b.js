var Ae=Object.defineProperty;var me=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var de=(n,e,l)=>e in n?Ae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[e]=l,ne=(n,e)=>{for(var l in e||(e={}))Ve.call(e,l)&&de(n,l,e[l]);if(me)for(var l of me(e))Me.call(e,l)&&de(n,l,e[l]);return n};import{a5 as De,a6 as Pe,S as G,i as J,s as K,a7 as N,a8 as L,a as d,d as _,b as f,M as F,f as v,E as g,P as Q,a9 as Ie,I as V,V as ee,e as k,t as M,k as P,l as H,c as y,g as D,n as I,Q as Ne,aa as pe,r as B,u as E,w as q,x as S,U as Le,ab as Oe,K as re,j as W,m as X,o as Z,h as U,v as $}from"./vendor-a1a75673.js";import{b as O,c as Ye}from"./mapUtils-e9636914.js";import{r as ve,d as ge,m as ie}from"./observation_data-2b3f5cba.js";function dt(n,e={}){const l=e.content,a=n.title,i=n.getAttribute("aria-label"),c=l||a||i;i||n.setAttribute("aria-label",c),n.title="";const r=De(n,ne({content:c},e));return{update:s=>r.setProps(ne({content:c},s)),destroy:()=>r.destroy()}}function be(n,e,l,a,i,c){if(l.length===0)return{};let r={},s=[];function t(o,u){return{count:1,color:o.color,taxon_name:o.taxon_name,opacity:o.active&&a[u]?1:i}}return l.forEach(o=>{e.filter(u=>o.observationIds.includes(u.id)).forEach(u=>{let h=Number(o.taxon_id),m=u[n]=="unknown"?"unknown":Number(u[n]);r[m]?r[m][h]?r[m][h].count+=1:r[m][h]=t(o,m):r[m]={[h]:t(o,m)}})}),ze(n,r,s,l,c),r}function ze(n,e,l,a,i){if(n==="month"){let r=Object.keys(e).map(t=>Number(t));l=i.observed_months.filter(t=>!r.includes(t))}else if(n==="year"){let r=Object.keys(e).map(t=>Number(t));l=ve(i.observed_years[0],i.observed_years[1]).filter(t=>!r.includes(t))}let c=a[0];l.forEach(r=>{e[r]={},e[r][c.taxon_id]={count:0,opacity:0,taxon_name:c.taxon_name}})}function pt(n,e,l,a){let i=a.map(r=>r.id),c=l.map(r=>({xValue:r.taxon_name,yValue:r.observationIds.filter(s=>i.includes(s)).length,group:"",color:r.taxon_name,label:r.taxa_count,opacity:r.active?1:e}));return n.data.values=c,n.height=200,n.encoding.x.axis=null,n.encoding.color.scale={domain:l.map(r=>r.taxon_name),range:l.map(r=>r.color)},n.encoding.color.title=null,n}function vt(n,e,l,a,i,c){if(!Array.isArray(i)){let t=[];i.forEach((o,u)=>{t=t.concat(o)}),i=t}let r=[],s=be("month",i,l,a,e,c);for(let t in s){let o=s[t];for(let u in o){let h=o[u];r.push({xValue:t==="unknown"?t:O(t),yValue:h.count,group:h.taxon_name,color:h.color,opacity:h.opacity})}}return n.data.values=r,n.facet.sort=l.map(t=>t.taxon_name),n.spec.layer[0].encoding.color.scale=null,n}function gt(n,e,l,a,i,c){if(!Array.isArray(i)){let t=[];i.forEach((o,u)=>{t=t.concat(o)}),i=t}let r=[],s=be("year",i,l,a,e,c);for(let t in s){let o=s[t];for(let u in o){let h=o[u];r.push({xValue:t,yValue:h.count,group:h.taxon_name,color:h.color,opacity:h.opacity})}}return n.data.values=r,n.facet.sort=l.map(t=>t.taxon_name),n.spec.layer[0].encoding.color.scale=null,n}function bt(n,e,l){let a=[{xValue:"All",yValue:l.length,color:e.defaultColor,opacity:1}];return n.layer[0].mark.width.band=.6,n.data.values=a,n}function kt(n,e,l,a,i,c){let r=[],s=[...c.observed_months];return l.unknown!==void 0&&s.push("unknown"),r=s.map(t=>({xValue:O(t),yValue:0,opacity:0})),Array.isArray(i)&&(i=ge(i,"month")),i.forEach((t,o)=>{let u=s.indexOf(o),h=o==="unknown"?a.defaultColor:a.colorSchemeMonth[o];r[u]={xValue:O(o),yValue:t.length,color:h,opacity:l[o]?1:e}}),n.layer[0].mark.width.band=1,n.data.values=r,n}function yt(n,e,l,a,i,c){let r=[],s=ve(c.observed_years[0],c.observed_years[1]);return l.unknown!==void 0&&s.push("unknown"),r=s.map(t=>({xValue:t,yValue:0,opacity:0})),Array.isArray(i)&&(i=ge(i,"year")),i.forEach((t,o)=>{let u=s.indexOf(o),h=o==="unknown"?a.defaultColor:a.colorSchemeYear[ie(o,a.colorSchemeYear.length)];r[u]={xValue:o,yValue:t.length,color:h,opacity:l[o]?1:e}}),Object.keys(s).length<=4?n.layer[0].mark.width.band=.6:n.layer[0].mark.width.band=1,n.data.values=r,n}function St(n,e){Pe(e,n,{actions:!1}).then(l=>{}).catch(console.warn)}function je(n){let e,l,a,i;return{c(){e=N("svg"),l=N("circle"),this.h()},l(c){e=L(c,"svg",{height:!0,width:!0,class:!0,"data-filter":!0});var r=d(e);l=L(r,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0,"data-filter":!0}),d(l).forEach(_),r.forEach(_),this.h()},h(){f(l,"cx","10"),f(l,"cy","10"),f(l,"r","8"),f(l,"stroke",n[0]),f(l,"stroke-width","3"),f(l,"fill",n[0]),f(l,"fill-opacity",".20"),f(l,"data-filter",n[1]),f(e,"height","20"),f(e,"width","20"),f(e,"class","inline"),f(e,"data-filter",n[1]),F(e,"cursor-pointer",n[3])},m(c,r){v(c,e,r),g(e,l),a||(i=Q(e,"click",Ie(function(){ee(n[2])&&n[2].apply(this,arguments)})),a=!0)},p(c,[r]){n=c,r&1&&f(l,"stroke",n[0]),r&1&&f(l,"fill",n[0]),r&2&&f(l,"data-filter",n[1]),r&2&&f(e,"data-filter",n[1]),r&8&&F(e,"cursor-pointer",n[3])},i:V,o:V,d(c){c&&_(e),a=!1,i()}}}function Fe(n,e,l){let{color:a}=e,{value:i}=e,{clickHandler:c=function(){}}=e,{cursorPointer:r=!1}=e;return n.$$set=s=>{"color"in s&&l(0,a=s.color),"value"in s&&l(1,i=s.value),"clickHandler"in s&&l(2,c=s.clickHandler),"cursorPointer"in s&&l(3,r=s.cursorPointer)},[a,i,c,r]}class te extends G{constructor(e){super();J(this,e,Fe,je,K,{color:0,value:1,clickHandler:2,cursorPointer:3})}}function He(n){let e,l;return{c(){e=N("svg"),l=N("rect"),this.h()},l(a){e=L(a,"svg",{width:!0,height:!0,class:!0,"data-filter":!0});var i=d(e);l=L(i,"rect",{width:!0,height:!0,y:!0,x:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0,"data-filter":!0}),d(l).forEach(_),i.forEach(_),this.h()},h(){f(l,"width","14"),f(l,"height","14"),f(l,"y","2"),f(l,"x","2"),f(l,"stroke",n[0]),f(l,"stroke-width","3"),f(l,"fill",n[0]),f(l,"fill-opacity",".20"),f(l,"data-filter",n[1]),f(e,"width","20"),f(e,"height","20"),f(e,"class","inline"),f(e,"data-filter",n[1])},m(a,i){v(a,e,i),g(e,l)},p(a,[i]){i&1&&f(l,"stroke",a[0]),i&1&&f(l,"fill",a[0]),i&2&&f(l,"data-filter",a[1]),i&2&&f(e,"data-filter",a[1])},i:V,o:V,d(a){a&&_(e)}}}function Be(n,e,l){let{color:a}=e,{value:i}=e;return n.$$set=c=>{"color"in c&&l(0,a=c.color),"value"in c&&l(1,i=c.value)},[a,i]}class qe extends G{constructor(e){super();J(this,e,Be,He,K,{color:0,value:1})}}function ke(n,e,l){const a=n.slice();return a[11]=e[l][0],a[8]=e[l][1],a}function ye(n,e,l){const a=n.slice();return a[7]=e[l][0],a[8]=e[l][1],a}function Ue(n){let e,l,a=[...n[2]],i=[];for(let r=0;r<a.length;r+=1)i[r]=Se(ke(n,a,r));const c=r=>E(i[r],1,1,()=>{i[r]=null});return{c(){e=k("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=y(r,"DIV",{class:!0});var s=d(e);for(let t=0;t<i.length;t+=1)i[t].l(s);s.forEach(_),this.h()},h(){f(e,"class","map-legend mt-2")},m(r,s){v(r,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);l=!0},p(r,s){if(s&29){a=[...r[2]];let t;for(t=0;t<a.length;t+=1){const o=ke(r,a,t);i[t]?(i[t].p(o,s),S(i[t],1)):(i[t]=Se(o),i[t].c(),S(i[t],1),i[t].m(e,null))}for(B(),t=a.length;t<i.length;t+=1)c(t);q()}},i(r){if(!l){for(let s=0;s<a.length;s+=1)S(i[s]);l=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);l=!1},d(r){r&&_(e),re(i,r)}}}function Re(n){let e,l,a=[...n[2]],i=[];for(let r=0;r<a.length;r+=1)i[r]=we(ye(n,a,r));const c=r=>E(i[r],1,1,()=>{i[r]=null});return{c(){e=k("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=y(r,"DIV",{class:!0});var s=d(e);for(let t=0;t<i.length;t+=1)i[t].l(s);s.forEach(_),this.h()},h(){f(e,"class","map-legend mt-2")},m(r,s){v(r,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);l=!0},p(r,s){if(s&29){a=[...r[2]];let t;for(t=0;t<a.length;t+=1){const o=ye(r,a,t);i[t]?(i[t].p(o,s),S(i[t],1)):(i[t]=we(o),i[t].c(),S(i[t],1),i[t].m(e,null))}for(B(),t=a.length;t<i.length;t+=1)c(t);q()}},i(r){if(!l){for(let s=0;s<a.length;s+=1)S(i[s]);l=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);l=!1},d(r){r&&_(e),re(i,r)}}}function Ge(n){let e;return{c(){e=k("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),d(e).forEach(_),this.h()},h(){f(e,"class","map-legend mt-2")},m(l,a){v(l,e,a)},p:V,i:V,o:V,d(l){l&&_(e)}}}function Je(n){let e,l,a,i=n[11]+"",c,r,s;return e=new te({props:{value:n[11],cursorPointer:!0,color:n[0].colorSchemeYear[ie(n[11],n[0].colorSchemeYear.length)]}}),{c(){W(e.$$.fragment),l=P(),a=k("span"),c=M(i),this.h()},l(t){X(e.$$.fragment,t),l=I(t),a=y(t,"SPAN",{"data-filter":!0});var o=d(a);c=D(o,i),o.forEach(_),this.h()},h(){f(a,"data-filter",r=n[11])},m(t,o){Z(e,t,o),v(t,l,o),v(t,a,o),g(a,c),s=!0},p(t,o){const u={};o&4&&(u.value=t[11]),o&5&&(u.color=t[0].colorSchemeYear[ie(t[11],t[0].colorSchemeYear.length)]),e.$set(u),(!s||o&4)&&i!==(i=t[11]+"")&&U(c,i),(!s||o&4&&r!==(r=t[11]))&&f(a,"data-filter",r)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){$(e,t),t&&_(l),t&&_(a)}}}function Ke(n){let e,l,a,i=n[11]+"",c,r,s;return e=new te({props:{value:n[11],color:n[0].defaultColor,cursorPointer:!0}}),{c(){W(e.$$.fragment),l=P(),a=k("span"),c=M(i),this.h()},l(t){X(e.$$.fragment,t),l=I(t),a=y(t,"SPAN",{"data-filter":!0});var o=d(a);c=D(o,i),o.forEach(_),this.h()},h(){f(a,"data-filter",r=n[11])},m(t,o){Z(e,t,o),v(t,l,o),v(t,a,o),g(a,c),s=!0},p(t,o){const u={};o&4&&(u.value=t[11]),o&1&&(u.color=t[0].defaultColor),e.$set(u),(!s||o&4)&&i!==(i=t[11]+"")&&U(c,i),(!s||o&4&&r!==(r=t[11]))&&f(a,"data-filter",r)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){$(e,t),t&&_(l),t&&_(a)}}}function Se(n){let e,l,a,i,c,r,s,t;const o=[Ke,Je],u=[];function h(m,p){return m[11]==="unknown"?0:1}return l=h(n),a=u[l]=o[l](n),{c(){e=k("div"),a.c(),i=P(),this.h()},l(m){e=y(m,"DIV",{class:!0,"data-filter":!0});var p=d(e);a.l(p),i=I(p),p.forEach(_),this.h()},h(){f(e,"class","mr-4 inline-block filter svelte-16ib7u4"),f(e,"data-filter",c=n[11]),F(e,"active",n[4][n[11]])},m(m,p){v(m,e,p),u[l].m(e,null),g(e,i),r=!0,s||(t=Q(e,"click",function(){ee(n[3])&&n[3].apply(this,arguments)}),s=!0)},p(m,p){n=m;let A=l;l=h(n),l===A?u[l].p(n,p):(B(),E(u[A],1,1,()=>{u[A]=null}),q(),a=u[l],a?a.p(n,p):(a=u[l]=o[l](n),a.c()),S(a,1),a.m(e,i)),(!r||p&4&&c!==(c=n[11]))&&f(e,"data-filter",c),p&20&&F(e,"active",n[4][n[11]])},i(m){r||(S(a),r=!0)},o(m){E(a),r=!1},d(m){m&&_(e),u[l].d(),s=!1,t()}}}function Qe(n){let e,l,a,i=O(n[7])+"",c,r,s;return e=new te({props:{value:n[7],cursorPointer:!0,color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){W(e.$$.fragment),l=P(),a=k("span"),c=M(i),this.h()},l(t){X(e.$$.fragment,t),l=I(t),a=y(t,"SPAN",{"data-filter":!0});var o=d(a);c=D(o,i),o.forEach(_),this.h()},h(){f(a,"data-filter",r=n[7])},m(t,o){Z(e,t,o),v(t,l,o),v(t,a,o),g(a,c),s=!0},p(t,o){const u={};o&4&&(u.value=t[7]),o&5&&(u.color=t[0].colorSchemeMonth[t[7]]||t[0].defaultColor),e.$set(u),(!s||o&4)&&i!==(i=O(t[7])+"")&&U(c,i),(!s||o&4&&r!==(r=t[7]))&&f(a,"data-filter",r)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){$(e,t),t&&_(l),t&&_(a)}}}function We(n){let e,l,a,i,c;const r=[Ze,Xe],s=[];function t(o,u){return(e==null||u&4)&&(e=!!Ye.includes(o[7]+1)),e?0:1}return l=t(n,-1),a=s[l]=r[l](n),{c(){a.c(),i=H()},l(o){a.l(o),i=H()},m(o,u){s[l].m(o,u),v(o,i,u),c=!0},p(o,u){let h=l;l=t(o,u),l===h?s[l].p(o,u):(B(),E(s[h],1,1,()=>{s[h]=null}),q(),a=s[l],a?a.p(o,u):(a=s[l]=r[l](o),a.c()),S(a,1),a.m(i.parentNode,i))},i(o){c||(S(a),c=!0)},o(o){E(a),c=!1},d(o){s[l].d(o),o&&_(i)}}}function Xe(n){let e,l,a,i=O(n[7])+"",c,r,s;return e=new qe({props:{value:n[7],color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){W(e.$$.fragment),l=P(),a=k("span"),c=M(i),this.h()},l(t){X(e.$$.fragment,t),l=I(t),a=y(t,"SPAN",{"data-filter":!0});var o=d(a);c=D(o,i),o.forEach(_),this.h()},h(){f(a,"data-filter",r=n[7])},m(t,o){Z(e,t,o),v(t,l,o),v(t,a,o),g(a,c),s=!0},p(t,o){const u={};o&4&&(u.value=t[7]),o&5&&(u.color=t[0].colorSchemeMonth[t[7]]||t[0].defaultColor),e.$set(u),(!s||o&4)&&i!==(i=O(t[7])+"")&&U(c,i),(!s||o&4&&r!==(r=t[7]))&&f(a,"data-filter",r)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){$(e,t),t&&_(l),t&&_(a)}}}function Ze(n){let e,l,a,i=O(n[7])+"",c,r,s;return e=new te({props:{value:n[7],cursorPointer:!0,color:n[0].colorSchemeMonth[n[7]]||n[0].defaultColor}}),{c(){W(e.$$.fragment),l=P(),a=k("span"),c=M(i),this.h()},l(t){X(e.$$.fragment,t),l=I(t),a=y(t,"SPAN",{"data-filter":!0});var o=d(a);c=D(o,i),o.forEach(_),this.h()},h(){f(a,"data-filter",r=n[7])},m(t,o){Z(e,t,o),v(t,l,o),v(t,a,o),g(a,c),s=!0},p(t,o){const u={};o&4&&(u.value=t[7]),o&5&&(u.color=t[0].colorSchemeMonth[t[7]]||t[0].defaultColor),e.$set(u),(!s||o&4)&&i!==(i=O(t[7])+"")&&U(c,i),(!s||o&4&&r!==(r=t[7]))&&f(a,"data-filter",r)},i(t){s||(S(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){$(e,t),t&&_(l),t&&_(a)}}}function we(n){let e,l,a,i,c,r,s,t;const o=[We,Qe],u=[];function h(m,p){return m[0].monthSeasonalMarkers?0:1}return l=h(n),a=u[l]=o[l](n),{c(){e=k("div"),a.c(),i=P(),this.h()},l(m){e=y(m,"DIV",{class:!0,"data-filter":!0});var p=d(e);a.l(p),i=I(p),p.forEach(_),this.h()},h(){f(e,"class","mr-4 inline-block filter svelte-16ib7u4"),f(e,"data-filter",c=n[7]),F(e,"active",n[4][n[7]])},m(m,p){v(m,e,p),u[l].m(e,null),g(e,i),r=!0,s||(t=Q(e,"click",function(){ee(n[3])&&n[3].apply(this,arguments)}),s=!0)},p(m,p){n=m;let A=l;l=h(n),l===A?u[l].p(n,p):(B(),E(u[A],1,1,()=>{u[A]=null}),q(),a=u[l],a?a.p(n,p):(a=u[l]=o[l](n),a.c()),S(a,1),a.m(e,i)),(!r||p&4&&c!==(c=n[7]))&&f(e,"data-filter",c),p&20&&F(e,"active",n[4][n[7]])},i(m){r||(S(a),r=!0)},o(m){E(a),r=!1},d(m){m&&_(e),u[l].d(),s=!1,t()}}}function $e(n){let e,l,a,i,c,r,s,t,o,u,h,m,p,A,le,T,C,z,R,ae,oe;const se=[Ge,Re,Ue],Y=[];function ce(b,w){return(le==null||w&4)&&(le=!!Array.isArray(b[2])),le?0:b[0].observationsTimeSpan==="month"?1:b[0].observationsTimeSpan==="year"?2:-1}return~(T=ce(n,-1))&&(C=Y[T]=se[T](n)),{c(){e=k("div"),l=k("label"),a=k("span"),i=M("Time Span"),c=P(),r=k("select"),s=k("option"),t=M("All"),o=k("option"),u=M("Months"),h=k("option"),m=M("Years"),A=P(),C&&C.c(),z=H(),this.h()},l(b){e=y(b,"DIV",{class:!0});var w=d(e);l=y(w,"LABEL",{class:!0,for:!0});var j=d(l);a=y(j,"SPAN",{class:!0});var ue=d(a);i=D(ue,"Time Span"),ue.forEach(_),j.forEach(_),c=I(w),r=y(w,"SELECT",{name:!0,class:!0});var x=d(r);s=y(x,"OPTION",{});var fe=d(s);t=D(fe,"All"),fe.forEach(_),o=y(x,"OPTION",{});var he=d(o);u=D(he,"Months"),he.forEach(_),h=y(x,"OPTION",{});var _e=d(h);m=D(_e,"Years"),_e.forEach(_),x.forEach(_),w.forEach(_),A=I(b),C&&C.l(b),z=H(),this.h()},h(){f(a,"class","label-text"),f(l,"class","label inline"),f(l,"for","group"),s.__value="all",s.value=s.__value,o.__value="month",o.value=o.__value,h.__value="year",h.value=h.__value,r.disabled=p=n[5]===0,f(r,"name","group"),f(r,"class","select select-bordered h-8 min-h-0"),n[0].observationsTimeSpan===void 0&&Ne(()=>n[6].call(r)),f(e,"class","form-control inline-block mt-4")},m(b,w){v(b,e,w),g(e,l),g(l,a),g(a,i),g(e,c),g(e,r),g(r,s),g(s,t),g(r,o),g(o,u),g(r,h),g(h,m),pe(r,n[0].observationsTimeSpan),v(b,A,w),~T&&Y[T].m(b,w),v(b,z,w),R=!0,ae||(oe=[Q(r,"change",n[6]),Q(r,"change",function(){ee(n[1])&&n[1].apply(this,arguments)})],ae=!0)},p(b,[w]){n=b,(!R||w&32&&p!==(p=n[5]===0))&&(r.disabled=p),w&1&&pe(r,n[0].observationsTimeSpan);let j=T;T=ce(n,w),T===j?~T&&Y[T].p(n,w):(C&&(B(),E(Y[j],1,1,()=>{Y[j]=null}),q()),~T?(C=Y[T],C?C.p(n,w):(C=Y[T]=se[T](n),C.c()),S(C,1),C.m(z.parentNode,z)):C=null)},i(b){R||(S(C),R=!0)},o(b){E(C),R=!1},d(b){b&&_(e),b&&_(A),~T&&Y[T].d(b),b&&_(z),ae=!1,Le(oe)}}}function xe(n,e,l){let{mapOptions:a}=e,{selectTimeSpanHandler:i}=e,{groupedObservations:c}=e,{toggleTimeSpans:r}=e,{timeSpanHistory:s}=e,{activeTaxaCount:t}=e;function o(){a.observationsTimeSpan=Oe(this),l(0,a)}return n.$$set=u=>{"mapOptions"in u&&l(0,a=u.mapOptions),"selectTimeSpanHandler"in u&&l(1,i=u.selectTimeSpanHandler),"groupedObservations"in u&&l(2,c=u.groupedObservations),"toggleTimeSpans"in u&&l(3,r=u.toggleTimeSpans),"timeSpanHistory"in u&&l(4,s=u.timeSpanHistory),"activeTaxaCount"in u&&l(5,t=u.activeTaxaCount)},[a,i,c,r,s,t,o]}class wt extends G{constructor(e){super();J(this,e,xe,$e,K,{mapOptions:0,selectTimeSpanHandler:1,groupedObservations:2,toggleTimeSpans:3,timeSpanHistory:4,activeTaxaCount:5})}}function et(n){let e,l,a,i,c;return{c(){e=N("svg"),l=N("g"),a=N("path"),i=N("path"),c=N("path"),this.h()},l(r){e=L(r,"svg",{xmlns:!0,height:!0,width:!0,viewBox:!0,version:!0,class:!0});var s=d(e);l=L(s,"g",{fill:!0});var t=d(l);a=L(t,"path",{d:!0}),d(a).forEach(_),i=L(t,"path",{d:!0,transform:!0}),d(i).forEach(_),c=L(t,"path",{d:!0}),d(c).forEach(_),t.forEach(_),s.forEach(_),this.h()},h(){f(a,"d","m80 15c-35.88 0-65 29.12-65 65s29.12 65 65 65 65-29.12 65-65-29.12-65-65-65zm0 10c30.36 0 55 24.64 55 55s-24.64 55-55 55-55-24.64-55-55 24.64-55 55-55z"),f(i,"d","m57.373 18.231a9.3834 9.1153 0 1 1 -18.767 0 9.3834 9.1153 0 1 1 18.767 0z"),f(i,"transform","matrix(1.1989 0 0 1.2342 21.214 28.75)"),f(c,"d","m90.665 110.96c-0.069 2.73 1.211 3.5 4.327 3.82l5.008 0.1v5.12h-39.073v-5.12l5.503-0.1c3.291-0.1 4.082-1.38 4.327-3.82v-30.813c0.035-4.879-6.296-4.113-10.757-3.968v-5.074l30.665-1.105"),f(l,"fill","#777"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"height","16"),f(e,"width","16"),f(e,"viewBox","0 0 160 160"),f(e,"version","1.0"),f(e,"class","svelte-16jmhzw")},m(r,s){v(r,e,s),g(e,l),g(l,a),g(l,i),g(l,c)},p:V,i:V,o:V,d(r){r&&_(e)}}}class Et extends G{constructor(e){super();J(this,e,null,et,K,{})}}function Ee(n,e,l){const a=n.slice();return a[2]=e[l],a}function Te(n){let e,l=n[1].length+"",a,i,c,r,s=n[1],t=[];for(let o=0;o<s.length;o+=1)t[o]=Ce(Ee(n,s,o));return{c(){e=k("span"),a=M(l),i=M(" species on map"),c=P(),r=k("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=y(o,"SPAN",{class:!0});var u=d(e);a=D(u,l),i=D(u," species on map"),u.forEach(_),c=I(o),r=y(o,"UL",{class:!0});var h=d(r);for(let m=0;m<t.length;m+=1)t[m].l(h);h.forEach(_),this.h()},h(){f(e,"class","font-semibold inline-block mt-4 text-lg"),f(r,"class","species-list svelte-xvt2ps")},m(o,u){v(o,e,u),g(e,a),g(e,i),v(o,c,u),v(o,r,u);for(let h=0;h<t.length;h+=1)t[h].m(r,null)},p(o,u){if(u&2&&l!==(l=o[1].length+"")&&U(a,l),u&2){s=o[1];let h;for(h=0;h<s.length;h+=1){const m=Ee(o,s,h);t[h]?t[h].p(m,u):(t[h]=Ce(m),t[h].c(),t[h].m(r,null))}for(;h<t.length;h+=1)t[h].d(1);t.length=s.length}},d(o){o&&_(e),o&&_(c),o&&_(r),re(t,o)}}}function Ce(n){let e,l=n[2].name+"";return{c(){e=k("li"),this.h()},l(a){e=y(a,"LI",{class:!0});var i=d(e);i.forEach(_),this.h()},h(){f(e,"class","svelte-xvt2ps")},m(a,i){v(a,e,i),e.innerHTML=l},p(a,i){i&2&&l!==(l=a[2].name+"")&&(e.innerHTML=l)},d(a){a&&_(e)}}}function tt(n){let e,l=n[0]&&Te(n);return{c(){l&&l.c(),e=H()},l(a){l&&l.l(a),e=H()},m(a,i){l&&l.m(a,i),v(a,e,i)},p(a,[i]){a[0]?l?l.p(a,i):(l=Te(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:V,o:V,d(a){l&&l.d(a),a&&_(e)}}}function lt(n,e,l){let{showSpeciesList:a=!1}=e,{speciesList:i=[]}=e;return n.$$set=c=>{"showSpeciesList"in c&&l(0,a=c.showSpeciesList),"speciesList"in c&&l(1,i=c.speciesList)},[a,i]}class Tt extends G{constructor(e){super();J(this,e,lt,tt,K,{showSpeciesList:0,speciesList:1})}}const at="https://vega.github.io/schema/vega-lite/v5.json",nt="A bar chart with labels, custom color and custom opacity",rt={values:[]},it="container",ot=100,st=[{mark:{type:"bar",width:{band:1}}},{mark:{type:"text",align:"center",dy:-10},encoding:{text:{field:"yValue",type:"quantitative"},color:{value:"black"}}}],ct={x:{field:"xValue",type:"nominal",axis:{labelAngle:0,labelLimit:0},title:null,sort:null},y:{field:"yValue",type:"quantitative",title:"observations"},color:{field:"color",type:"nominal",scale:null},opacity:{field:"opacity",type:"quantitative",scale:null}},ut={facet:{columns:2},axis:{titleFontSize:14,labelFontSize:12,labelColor:"#333"},legend:{titleFontSize:14,labelFontSize:14,labelLimit:0,orient:"bottom",columns:1,labelColor:"#333"},header:{titleFontSize:14,labelFontSize:14,labelColor:"#333"},mark:{fontSize:12,color:"#333"},title:{fontSize:14,color:"#333"}};var Ct={$schema:at,description:nt,data:rt,width:it,height:ot,layer:st,encoding:ct,config:ut};export{te as C,Et as I,Tt as M,vt as a,Ct as b,gt as c,St as d,wt as e,kt as f,yt as g,bt as h,pt as s,dt as t};
